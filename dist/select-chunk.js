/*! For license information please see select-chunk.js.LICENSE.txt */
(this.webpackChunkCoCreate_floatingLabel=this.webpackChunkCoCreate_floatingLabel||[]).push([["select-chunk"],{"../CoCreate-form/src/index.js":(__unused_webpack_module,exports)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n// import observer from '../../CoCreate-observer/src'\n// import ccutils from '../../../CoCreateJS/src/utils';\n// import {socket, crud, core} from '../../../CoCreateJS/src';\n// import action from '../../CoCreate-action/src'\n// import crdt from '../../CoCreate-crdt/src'\n// import text from '../../CoCreate-text/src'\n// import utils from \"./utils\"\nconst CoCreateForm = {\n  requestAttr: \"data-document_request\",\n  selectors: [],\n  modules: [],\n  init: function ({\n    name,\n    selector,\n    callback\n  }) {\n    this.modules.push({\n      name,\n      selector,\n      callback\n    });\n\n    if (selector) {\n      this.selectors.push(selector);\n    }\n  },\n  get: function () {\n    return {\n      selectors: this.selectors\n    };\n  },\n  checkID: function (element, attr = \"data-document_id\") {\n    let document_id = element.getAttribute(attr) || \"\";\n\n    if (document_id === \"\" || document_id === \"pending\" || !ccutils.checkValue(document_id)) {\n      return false;\n    }\n\n    return true;\n  },\n  request: function ({\n    form,\n    element,\n    nameAttr,\n    value\n  }) {\n    if (!form && element) {\n      form = element.closest('form');\n    }\n\n    if (form) {\n      this.__requestDocumentIdOfForm(form);\n    } else if (element) {\n      nameAttr = nameAttr || \"name\";\n\n      this.__requestDocumentId(element, nameAttr, value);\n    }\n  },\n  initElement: function (container) {\n    const __container = container || document;\n\n    if (!__container.querySelectorAll) {\n      return;\n    }\n\n    let forms = __container.querySelectorAll('form');\n\n    if (forms.length === 0 && __container != document && __container.tagName === \"FORM\") {\n      forms = [__container];\n    }\n\n    forms.forEach(form => {\n      utils.setAttribute(form);\n      utils.disableAutoFill(form);\n    });\n  },\n  __init: function () {\n    const forms = document.querySelectorAll('form');\n\n    this.__initEvent();\n\n    forms.forEach(form => {\n      utils.setAttribute(form);\n    });\n  },\n  __initEvent: function () {\n    const self = this;\n    socket.listen('createDocument', function (data) {\n      const {\n        metadata\n      } = data;\n\n      self.__receivedDocumentId(data);\n\n      if (metadata == \"createDocument-action\") {//. dispatch EndAction\n      }\n    });\n    socket.listen('deleteDocument', function (data) {\n      const {\n        metadata\n      } = data;\n\n      if (metadata === \"deleteDocument-action\") {//.dispatch End Action\n      }\n    });\n    document.addEventListener('clicked-submitBtn', function (event) {\n      const {\n        element\n      } = event.detail;\n      self.modules.forEach(({\n        selector,\n        callback\n      }) => {\n        if (callback && element.matches(selector)) {\n          callback.call(null, element);\n        }\n      });\n    });\n  },\n  __deleteDocumentAction: function (btn) {\n    const collection = btn.getAttribute('data-collection');\n    const document_id = btn.getAttribute('data-document_id');\n\n    if (ccutils.checkValue(collection) && ccutils.checkValue(document_id)) {\n      crud.deleteDocument({\n        'collection': collection,\n        'document_id': document_id,\n        'metadata': 'deleteDocument-action'\n      });\n      document.dispatchEvent(new CustomEvent('deletedDocument', {\n        detail: {}\n      }));\n    }\n  },\n  __deleteDocumentsAction: function (btn) {\n    const collection = btn.getAttribute('data-collection');\n    const selector = btn.getAttribute('data-document_target');\n    if (!selector) return;\n    const selectedEls = document.querySelectorAll(selector);\n\n    if (utils.checkValue(collection)) {\n      selectedEls.forEach(el => {\n        const document_id = el.getAttribute('data-document_id');\n\n        if (ccutils.checkValue(document_id)) {\n          crud.deleteDocument({\n            'collection': collection,\n            'document_id': document_id,\n            'metadata': ''\n          });\n        }\n      });\n      document.dispatchEvent(new CustomEvent('deletedDocuments', {\n        detail: {}\n      }));\n    }\n  },\n  __createDocumentAction: function (btn) {\n    const form = btn.closest(\"form\");\n    const self = this;\n    let collections = utils.getCOllections(form);\n    collections.forEach(collection => {\n      let data = utils.getFormData(form, \"\", collection);\n\n      if (Object.keys(data).length == 0 && data.constructor === Object) {\n        return;\n      }\n\n      if (ccutils.checkValue(collection)) {\n        crud.createDocument({\n          'collection': collection,\n          'data': data,\n          'metadata': 'createDocument-action',\n          'element': 'empty'\n        });\n        document.dispatchEvent(new CustomEvent('createdDocument', {\n          detail: {}\n        }));\n      }\n    });\n  },\n  __saveDocumentAction: function (btn) {\n    const form = btn.closest(\"form\");\n\n    if (!utils.checkFormValidate(form)) {\n      alert('Values are not unique');\n      return;\n    }\n\n    const selectors = this.selectors || [];\n    const elements = form.querySelectorAll(selectors.join(','));\n    let request_document_id = false;\n\n    for (var i = 0; i < elements.length; i++) {\n      let el = elements[i];\n      const data_document_id = el.getAttribute('data-document_id');\n\n      if (el.getAttribute('data-save_value') == 'false') {\n        continue;\n      }\n\n      if (!data_document_id) {\n        if (el.getAttribute('name')) {\n          request_document_id = true;\n        }\n\n        continue;\n      }\n\n      if (input.isUsageY(el)) {\n        continue;\n      }\n\n      if (utils.isTemplateInput(el)) return;\n      var new_event = new CustomEvent(\"clicked-submitBtn\", {\n        bubbles: true,\n        detail: {\n          type: \"submitBtn\",\n          element: el\n        }\n      });\n      el.dispatchEvent(new_event);\n    }\n\n    if (request_document_id) {\n      this.requestDocumentIdOfForm(form);\n    }\n\n    document.dispatchEvent(new CustomEvent('savedDocument', {\n      detail: {}\n    }));\n  },\n  __requestDocumentId: function (element, nameAttr = \"name\", value = null) {\n    const collection = element.getAttribute('data-collection');\n    const name = element.getAttribute(nameAttr);\n    if (!collection || !name) return;\n    const request_id = ccutils.generateUUID();\n    element.setAttribute(this.requestAttr, request_id);\n    crud.createDocument({\n      \"collection\": collection,\n      \"element\": request_id,\n      \"metadata\": \"\"\n    });\n  },\n  __requestDocumentIdOfForm: function (form) {\n    let self = this;\n    let elemens = form.querySelectorAll('[name], [data-pass_to]');\n    let collections = [];\n\n    for (var i = 0; i < elemens.length; i++) {\n      let el = elemens[i];\n\n      if (el.parentNode.classList.contains('template')) {\n        continue;\n      }\n\n      const collection = el.getAttribute(\"data-collection\") || el.getAttribute(\"data-pass_collection\") || \"\";\n\n      if (collection !== \"\" && !collections.includes(collection) && !self.checkID(el, 'data-document_id') && !self.checkID(el, 'data-pass_document_id')) {\n        const request_id = ccutils.generateUUID();\n        collections.push(collection);\n        el.setAttribute(this.requestAttr, request_id); //. get Data\n\n        let data = utils.getFormData(form, \"\", collection);\n        /* FixME Create Document request */\n\n        crud.createDocument({\n          \"collection\": collection,\n          \"element\": request_id,\n          'data': data,\n          \"metadata\": \"\"\n        });\n      }\n    }\n  },\n  __setNewIdProcess: function (element, document_id, pass) {\n    if (!element) return;\n    element.removeAttribute(this.requestAttr);\n    const event_data = {\n      document_id: document_id\n    };\n\n    if (!pass && !this.checkID(element) && element.hasAttribute('name')) {\n      element.setAttribute('data-document_id', document_id);\n    }\n\n    if (pass && !this.checkID(element, 'data-pass_document_id') && element.hasAttribute('data-pass_to')) {\n      element.setAttribute('data-pass_document_id', document_id); // CoCreateLogic.storePassData(element)\n\n      if (element.parentNode.classList.contains('submitBtn')) {\n        element.click();\n      }\n    }\n\n    var event = new CustomEvent('set-document_id', {\n      detail: event_data\n    });\n    element.dispatchEvent(event);\n  },\n  __receivedDocumentId: function (data) {\n    if (!data['document_id']) {\n      return;\n    }\n\n    let element = document.querySelector(`[${this.requestAttr}=\"${data['element']}\"]`);\n    if (!element) return;\n    let self = this;\n    const form = element.tagName === \"FORM\" ? element : utils.getParents(element, 'form');\n    const collection = data['collection'];\n    const id = data['document_id'];\n\n    if (form && id) {\n      form.setAttribute('data-form_id', data['element']);\n      const elements = form.querySelectorAll(`[data-collection=${collection}], [data-pass_collection=${collection}]`);\n      elements.forEach(function (el) {\n        el.removeAttribute(self.requestAttr);\n        if (el.hasAttribute('name')) self.__setNewIdProcess(el, id);\n        if (el.hasAttribute('data-pass_to')) self.__setNewIdProcess(el, id, true);\n      });\n    } else if (element) {\n      this.__setNewIdProcess(element, id);\n    }\n  }\n}; // CoCreateForm.__init();\n// core.registerInit(CoCreateForm.initElement, CoCreateForm);\n// observer.init({ \n// \tname: 'CoCreateForm', \n// \tobserve: ['subtree', 'childList'],\n// \tinclude: 'form', \n// \tcallback: function(mutation) {\n// \t\tCoCreateForm.initElement(mutation.target)\n// \t}\n// })\n// action.init({\n// \taction: \"createDocument\",\n// \tendEvent: \"createdDocument\",\n// \tcallback: (btn, data) => {\n// \t\tCoCreateForm.__createDocumentAction(btn)\n// \t},\n// })\n// action.init({\n// \taction: \"deleteDocument\",\n// \tendEvent: \"deletedDocument\",\n// \tcallback: (btn, data) => {\n// \t\tCoCreateForm.__deleteDocumentAction(btn)\n// \t},\n// })\n// action.init({\n// \taction: \"deleteDocuments\",\n// \tendEvent: \"deletedDocuments\",\n// \tcallback: (btn, data) => {\n// \t\tCoCreateDocument.__deleteDocumentsAction(btn)\n// \t},\n// })\n// action.init({\n// \taction: \"saveDocument\",\n// \tendEvent: \"savedDocument\",\n// \tcallback: (btn, data) => {\n// \t\tCoCreateForm.__saveDocumentAction(btn)\n// \t},\n// })\n\nvar _default = CoCreateForm;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mbG9hdGluZ0xhYmVsLy4uL0NvQ3JlYXRlLWZvcm0vc3JjL2luZGV4LmpzP2I3YzkiXSwibmFtZXMiOlsiQ29DcmVhdGVGb3JtIiwicmVxdWVzdEF0dHIiLCJzZWxlY3RvcnMiLCJtb2R1bGVzIiwiaW5pdCIsIm5hbWUiLCJzZWxlY3RvciIsImNhbGxiYWNrIiwicHVzaCIsImdldCIsImNoZWNrSUQiLCJlbGVtZW50IiwiYXR0ciIsImRvY3VtZW50X2lkIiwiZ2V0QXR0cmlidXRlIiwiY2N1dGlscyIsImNoZWNrVmFsdWUiLCJyZXF1ZXN0IiwiZm9ybSIsIm5hbWVBdHRyIiwidmFsdWUiLCJjbG9zZXN0IiwiX19yZXF1ZXN0RG9jdW1lbnRJZE9mRm9ybSIsIl9fcmVxdWVzdERvY3VtZW50SWQiLCJpbml0RWxlbWVudCIsImNvbnRhaW5lciIsIl9fY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9ybXMiLCJsZW5ndGgiLCJ0YWdOYW1lIiwiZm9yRWFjaCIsInV0aWxzIiwic2V0QXR0cmlidXRlIiwiZGlzYWJsZUF1dG9GaWxsIiwiX19pbml0IiwiX19pbml0RXZlbnQiLCJzZWxmIiwic29ja2V0IiwibGlzdGVuIiwiZGF0YSIsIm1ldGFkYXRhIiwiX19yZWNlaXZlZERvY3VtZW50SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJkZXRhaWwiLCJtYXRjaGVzIiwiY2FsbCIsIl9fZGVsZXRlRG9jdW1lbnRBY3Rpb24iLCJidG4iLCJjb2xsZWN0aW9uIiwiY3J1ZCIsImRlbGV0ZURvY3VtZW50IiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiX19kZWxldGVEb2N1bWVudHNBY3Rpb24iLCJzZWxlY3RlZEVscyIsImVsIiwiX19jcmVhdGVEb2N1bWVudEFjdGlvbiIsImNvbGxlY3Rpb25zIiwiZ2V0Q09sbGVjdGlvbnMiLCJnZXRGb3JtRGF0YSIsIk9iamVjdCIsImtleXMiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZURvY3VtZW50IiwiX19zYXZlRG9jdW1lbnRBY3Rpb24iLCJjaGVja0Zvcm1WYWxpZGF0ZSIsImFsZXJ0IiwiZWxlbWVudHMiLCJqb2luIiwicmVxdWVzdF9kb2N1bWVudF9pZCIsImkiLCJkYXRhX2RvY3VtZW50X2lkIiwiaW5wdXQiLCJpc1VzYWdlWSIsImlzVGVtcGxhdGVJbnB1dCIsIm5ld19ldmVudCIsImJ1YmJsZXMiLCJ0eXBlIiwicmVxdWVzdERvY3VtZW50SWRPZkZvcm0iLCJyZXF1ZXN0X2lkIiwiZ2VuZXJhdGVVVUlEIiwiZWxlbWVucyIsInBhcmVudE5vZGUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImluY2x1ZGVzIiwiX19zZXROZXdJZFByb2Nlc3MiLCJwYXNzIiwicmVtb3ZlQXR0cmlidXRlIiwiZXZlbnRfZGF0YSIsImhhc0F0dHJpYnV0ZSIsImNsaWNrIiwicXVlcnlTZWxlY3RvciIsImdldFBhcmVudHMiLCJpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBRUE7QUFFQSxNQUFNQSxZQUFZLEdBQUc7QUFFcEJDLGFBQVcsRUFBRSx1QkFGTztBQUdwQkMsV0FBUyxFQUFFLEVBSFM7QUFJcEJDLFNBQU8sRUFBRSxFQUpXO0FBTXBCQyxNQUFJLEVBQUUsVUFBUztBQUFDQyxRQUFEO0FBQU9DLFlBQVA7QUFBaUJDO0FBQWpCLEdBQVQsRUFBcUM7QUFFMUMsU0FBS0osT0FBTCxDQUFhSyxJQUFiLENBQWtCO0FBQ2pCSCxVQURpQjtBQUVqQkMsY0FGaUI7QUFHakJDO0FBSGlCLEtBQWxCOztBQU1BLFFBQUlELFFBQUosRUFBYztBQUNiLFdBQUtKLFNBQUwsQ0FBZU0sSUFBZixDQUFvQkYsUUFBcEI7QUFDQTtBQUNELEdBakJtQjtBQW1CcEJHLEtBQUcsRUFBRSxZQUFXO0FBQ2YsV0FBTztBQUNOUCxlQUFTLEVBQUUsS0FBS0E7QUFEVixLQUFQO0FBR0EsR0F2Qm1CO0FBeUJwQlEsU0FBTyxFQUFFLFVB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QUF4QjtBQUNBLFlBQUl5RCxFQUFFLENBQUNtQyxZQUFILENBQWdCLE1BQWhCLENBQUosRUFBNkJ2RCxJQUFJLENBQUNtRCxpQkFBTCxDQUF1Qi9CLEVBQXZCLEVBQTJCdUMsRUFBM0I7QUFDN0IsWUFBSXZDLEVBQUUsQ0FBQ21DLFlBQUgsQ0FBZ0IsY0FBaEIsQ0FBSixFQUFxQ3ZELElBQUksQ0FBQ21ELGlCQUFMLENBQXVCL0IsRUFBdkIsRUFBMkJ1QyxFQUEzQixFQUErQixJQUEvQjtBQUNyQyxPQUpEO0FBTUEsS0FURCxNQVNPLElBQUl0RixPQUFKLEVBQWE7QUFDbkIsV0FBSzhFLGlCQUFMLENBQXVCOUUsT0FBdkIsRUFBZ0NzRixFQUFoQztBQUNBO0FBQ0Q7QUFuVW1CLENBQXJCLEMsQ0FzVUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7ZUFFZWpHLFkiLCJmaWxlIjoiLi4vQ29DcmVhdGUtZm9ybS9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgb2JzZXJ2ZXIgZnJvbSAnLi4vLi4vQ29DcmVhdGUtb2JzZXJ2ZXIvc3JjJ1xuLy8gaW1wb3J0IGNjdXRpbHMgZnJvbSAnLi4vLi4vLi4vQ29DcmVhdGVKUy9zcmMvdXRpbHMnO1xuLy8gaW1wb3J0IHtzb2NrZXQsIGNydWQsIGNvcmV9IGZyb20gJy4uLy4uLy4uL0NvQ3JlYXRlSlMvc3JjJztcblxuLy8gaW1wb3J0IGFjdGlvbiBmcm9tICcuLi8uLi9Db0NyZWF0ZS1hY3Rpb24vc3JjJ1xuXG5cbi8vIGltcG9ydCBjcmR0IGZyb20gJy4uLy4uL0NvQ3JlYXRlLWNyZHQvc3JjJ1xuLy8gaW1wb3J0IHRleHQgZnJvbSAnLi4vLi4vQ29DcmVhdGUtdGV4dC9zcmMnXG5cbi8vIGltcG9ydCB1dGlscyBmcm9tIFwiLi91dGlsc1wiXG5cbmNvbnN0IENvQ3JlYXRlRm9ybSA9IHtcblx0XG5cdHJlcXVlc3RBdHRyOiBcImRhdGEtZG9jdW1lbnRfcmVxdWVzdFwiLFxuXHRzZWxlY3RvcnM6IFtdLFxuXHRtb2R1bGVzOiBbXSxcblxuXHRpbml0OiBmdW5jdGlvbih7bmFtZSwgc2VsZWN0b3IsIGNhbGxiYWNrfSkge1xuXHRcdFxuXHRcdHRoaXMubW9kdWxlcy5wdXNoKHtcblx0XHRcdG5hbWUsXG5cdFx0XHRzZWxlY3Rvcixcblx0XHRcdGNhbGxiYWNrXG5cdFx0fSk7XG5cdFx0XG5cdFx0aWYgKHNlbGVjdG9yKSB7XG5cdFx0XHR0aGlzLnNlbGVjdG9ycy5wdXNoKHNlbGVjdG9yKTtcblx0XHR9XG5cdH0sXG5cdFxuXHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZWxlY3RvcnM6IHRoaXMuc2VsZWN0b3JzXG5cdFx0fVxuXHR9LFxuXHRcblx0Y2hlY2tJRDogZnVuY3Rpb24oZWxlbWVudCwgYXR0ciA9IFwiZGF0YS1kb2N1bWVudF9pZFwiKSB7XG5cdFx0bGV0IGRvY3VtZW50X2lkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cikgfHwgXCJcIjtcblx0XHRpZiAoZG9jdW1lbnRfaWQgPT09IFwiXCIgfHwgZG9jdW1lbnRfaWQgPT09IFwicGVuZGluZ1wiIHx8ICFjY3V0aWxzLmNoZWNrVmFsdWUoZG9jdW1lbnRfaWQpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXHRcblx0cmVxdWVzdDogZnVuY3Rpb24oe2Zvcm0sIGVsZW1lbnQsIG5hbWVBdHRyLCB2YWx1ZX0pIHtcblx0XHRcblx0XHRpZiAoIWZvcm0gJiYgZWxlbWVudCkge1xuXHRcdFx0Zm9ybSA9IGVsZW1lbnQuY2xvc2VzdCgnZm9ybScpO1xuXHRcdH1cblx0XHRcblx0XHRpZiAoZm9ybSkge1xuXHRcdFx0dGhpcy5fX3JlcXVlc3REb2N1bWVudElkT2ZGb3JtKGZvcm0pXG5cdFx0fSBlbHNlIGlmIChlbGVtZW50KSB7XG5cdFx0XHRuYW1lQXR0ciA9IG5hbWVBdHRyIHx8IFwibmFtZVwiXG5cdFx0XHR0aGlzLl9fcmVxdWVzdERvY3VtZW50SWQoZWxlbWVudCwgbmFtZUF0dHIsIHZhbHVlKTtcblx0XHR9XG5cdFx0XG5cdH0sXG5cdFxuXHRpbml0RWxlbWVudDogZnVuY3Rpb24oY29udGFpbmVyKSB7XG5cdFx0Y29uc3QgX19jb250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnRcblx0XHRcblx0XHRpZiAoIV9fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0bGV0ICBmb3JtcyA9IF9fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm0nKTtcblxuXHRcdGlmIChmb3Jtcy5sZW5ndGggPT09IDAgJiYgX19jb250YWluZXIgIT0gZG9jdW1lbnQgJiYgX19jb250YWluZXIudGFnTmFtZSA9PT0gXCJGT1JNXCIpIHtcblx0XHRcdGZvcm1zID0gW19fY29udGFpbmVyXTtcblx0XHR9XG5cdFx0XG5cdFx0Zm9ybXMuZm9yRWFjaCgoZm9ybSkgPT4ge1xuXHRcdFx0dXRpbHMuc2V0QXR0cmlidXRlKGZvcm0pXG5cdFx0XHR1dGlscy5kaXNhYmxlQXV0b0ZpbGwoZm9ybSk7XG5cdFx0fSlcblx0fSxcblx0XG5cdF9faW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0Y29uc3QgZm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtJyk7XG5cdFx0dGhpcy5fX2luaXRFdmVudCgpO1xuXG5cdFx0Zm9ybXMuZm9yRWFjaCgoZm9ybSkgPT4ge1xuXHRcdFx0dXRpbHMuc2V0QXR0cmlidXRlKGZvcm0pXG5cdFx0fSlcblx0XHRcblx0fSxcblx0XG5cdF9faW5pdEV2ZW50OiBmdW5jdGlvbigpIHtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRzb2NrZXQubGlzdGVuKCdjcmVhdGVEb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdGNvbnN0IHttZXRhZGF0YX0gPSBkYXRhO1xuXHRcdFx0c2VsZi5fX3JlY2VpdmVkRG9jdW1lbnRJZChkYXRhKTtcblx0XHRcdGlmIChtZXRhZGF0YSA9PSBcImNyZWF0ZURvY3VtZW50LWFjdGlvblwiKSB7XG5cdFx0XHRcdC8vLiBkaXNwYXRjaCBFbmRBY3Rpb25cblx0XHRcdH1cblx0XHR9KVxuXHRcdFxuXHRcdHNvY2tldC5saXN0ZW4oJ2RlbGV0ZURvY3VtZW50JywgZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0Y29uc3Qge21ldGFkYXRhfSA9IGRhdGFcblx0XHRcdGlmIChtZXRhZGF0YSA9PT0gXCJkZWxldGVEb2N1bWVudC1hY3Rpb25cIikge1xuXHRcdFx0XHQvLy5kaXNwYXRjaCBFbmQgQWN0aW9uXG5cdFx0XHR9XG5cdFx0fSlcdFxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrZWQtc3VibWl0QnRuJywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdGNvbnN0IHtlbGVtZW50fSA9IGV2ZW50LmRldGFpbDtcblxuXHRcdFx0c2VsZi5tb2R1bGVzLmZvckVhY2goKHtzZWxlY3RvciwgY2FsbGJhY2t9KSA9PiB7XG5cdFx0XHRcdGlmIChjYWxsYmFjayAmJiBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2suY2FsbChudWxsLCBlbGVtZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9KVxuXHR9LFxuXG5cdF9fZGVsZXRlRG9jdW1lbnRBY3Rpb246IGZ1bmN0aW9uKGJ0bikge1xuXHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBidG4uZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKTtcblx0XHRjb25zdCBkb2N1bWVudF9pZCA9IGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKVxuXHRcdGlmIChjY3V0aWxzLmNoZWNrVmFsdWUoY29sbGVjdGlvbikgJiYgY2N1dGlscy5jaGVja1ZhbHVlKGRvY3VtZW50X2lkKSkge1xuXHRcdFx0Y3J1ZC5kZWxldGVEb2N1bWVudCh7XG5cdFx0XHRcdCdjb2xsZWN0aW9uJzogY29sbGVjdGlvbiwgXG5cdFx0XHRcdCdkb2N1bWVudF9pZCc6IGRvY3VtZW50X2lkLFxuXHRcdFx0XHQnbWV0YWRhdGEnOiAnZGVsZXRlRG9jdW1lbnQtYWN0aW9uJyBcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZGVsZXRlZERvY3VtZW50Jywge1xuXHRcdFx0XHRkZXRhaWw6IHt9XG5cdFx0XHR9KSlcblx0XHR9XG5cdH0sXG5cdFxuXHRfX2RlbGV0ZURvY3VtZW50c0FjdGlvbjogZnVuY3Rpb24oYnRuKSB7XG5cdFx0Y29uc3QgY29sbGVjdGlvbiA9IGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpO1xuXHRcdGNvbnN0IHNlbGVjdG9yID0gYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF90YXJnZXQnKTtcblx0XHRpZiAoIXNlbGVjdG9yKSByZXR1cm47XG5cdFx0XG5cdFx0Y29uc3Qgc2VsZWN0ZWRFbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKVxuXHRcdFxuXHRcdGlmICh1dGlscy5jaGVja1ZhbHVlKGNvbGxlY3Rpb24pKSB7XG5cdFx0XHRzZWxlY3RlZEVscy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0XHRjb25zdCBkb2N1bWVudF9pZCA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpO1xuXHRcdFx0XHRpZiAoY2N1dGlscy5jaGVja1ZhbHVlKGRvY3VtZW50X2lkKSkge1xuXHRcdFx0XHRcdGNydWQuZGVsZXRlRG9jdW1lbnQoe1xuXHRcdFx0XHRcdFx0J2NvbGxlY3Rpb24nOiBjb2xsZWN0aW9uLFxuXHRcdFx0XHRcdFx0J2RvY3VtZW50X2lkJzogZG9jdW1lbnRfaWQsXG5cdFx0XHRcdFx0XHQnbWV0YWRhdGEnOiAnJ1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHRcblx0XHRcdGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdkZWxldGVkRG9jdW1lbnRzJywge1xuXHRcdFx0XHRkZXRhaWw6IHt9XG5cdFx0XHR9KSlcblx0XHR9XG5cdH0sXG5cdFxuXHRfX2NyZWF0ZURvY3VtZW50QWN0aW9uOiBmdW5jdGlvbihidG4pIHtcblx0XHRjb25zdCBmb3JtID0gYnRuLmNsb3Nlc3QoXCJmb3JtXCIpXG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cdFx0bGV0IGNvbGxlY3Rpb25zID0gdXRpbHMuZ2V0Q09sbGVjdGlvbnMoZm9ybSlcblx0XHRcblx0XHRjb2xsZWN0aW9ucy5mb3JFYWNoKChjb2xsZWN0aW9uKSA9PiB7XG5cdFx0XHRsZXQgZGF0YSA9IHV0aWxzLmdldEZvcm1EYXRhKGZvcm0sIFwiXCIsIGNvbGxlY3Rpb24pO1xuXHRcdFx0XG5cdFx0XHRpZiAoT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID09IDAgJiYgZGF0YS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmIChjY3V0aWxzLmNoZWNrVmFsdWUoY29sbGVjdGlvbikpIHtcblx0XHRcdFx0Y3J1ZC5jcmVhdGVEb2N1bWVudCh7XG5cdFx0XHRcdFx0J2NvbGxlY3Rpb24nOiBjb2xsZWN0aW9uLFxuXHRcdFx0XHRcdCdkYXRhJzogZGF0YSxcblx0XHRcdFx0XHQnbWV0YWRhdGEnOiAnY3JlYXRlRG9jdW1lbnQtYWN0aW9uJyAsXG5cdFx0XHRcdFx0J2VsZW1lbnQnOidlbXB0eSdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjcmVhdGVkRG9jdW1lbnQnLCB7XG5cdFx0XHRcdFx0ZGV0YWlsOiB7fVxuXHRcdFx0XHR9KSlcblx0XHRcdH1cblx0XHR9KVxuXHR9LFxuXHRcblx0X19zYXZlRG9jdW1lbnRBY3Rpb246IGZ1bmN0aW9uKGJ0bikge1xuXHRcdGNvbnN0IGZvcm0gPSBidG4uY2xvc2VzdChcImZvcm1cIilcblxuXHRcdGlmICghdXRpbHMuY2hlY2tGb3JtVmFsaWRhdGUoZm9ybSkpIHtcblx0XHRcdGFsZXJ0KCdWYWx1ZXMgYXJlIG5vdCB1bmlxdWUnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0Y29uc3Qgc2VsZWN0b3JzID0gdGhpcy5zZWxlY3RvcnMgfHwgW107XG5cdFx0Y29uc3QgZWxlbWVudHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3JzLmpvaW4oJywnKSk7XG5cdFx0XG5cdFx0bGV0IHJlcXVlc3RfZG9jdW1lbnRfaWQgPSBmYWxzZTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsZXQgZWwgPSBlbGVtZW50c1tpXTtcblx0XHRcdGNvbnN0IGRhdGFfZG9jdW1lbnRfaWQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKTtcblxuXHRcdFx0aWYgKGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zYXZlX3ZhbHVlJykgPT0gJ2ZhbHNlJykge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFkYXRhX2RvY3VtZW50X2lkKSB7XG5cdFx0XHRcdGlmIChlbC5nZXRBdHRyaWJ1dGUoJ25hbWUnKSkge1xuXHRcdFx0XHRcdHJlcXVlc3RfZG9jdW1lbnRfaWQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoaW5wdXQuaXNVc2FnZVkoZWwpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodXRpbHMuaXNUZW1wbGF0ZUlucHV0KGVsKSkgcmV0dXJuO1xuXG5cdFx0XHR2YXIgbmV3X2V2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiY2xpY2tlZC1zdWJtaXRCdG5cIiwge1xuXHRcdFx0XHRidWJibGVzOiB0cnVlLFxuXHRcdFx0XHRkZXRhaWw6IHsgXG5cdFx0XHRcdFx0dHlwZTogXCJzdWJtaXRCdG5cIiwgXG5cdFx0XHRcdFx0ZWxlbWVudDogZWwgXG5cdFx0XHRcdH19KTtcblx0XHRcdGVsLmRpc3BhdGNoRXZlbnQobmV3X2V2ZW50KTsgIFxuXHRcdH1cblx0XHRpZiAocmVxdWVzdF9kb2N1bWVudF9pZCkge1xuXHRcdFx0dGhpcy5yZXF1ZXN0RG9jdW1lbnRJZE9mRm9ybShmb3JtKVxuXHRcdH1cblx0XHRcblx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnc2F2ZWREb2N1bWVudCcsIHtcblx0XHRcdGRldGFpbDoge31cblx0XHR9KSlcblx0fSxcblx0XG5cdF9fcmVxdWVzdERvY3VtZW50SWQ6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWVBdHRyID0gXCJuYW1lXCIsIHZhbHVlID0gbnVsbCkge1xuXHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xsZWN0aW9uJylcblx0XHRjb25zdCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZUF0dHIpXG5cdFx0XG5cdFx0aWYgKCFjb2xsZWN0aW9uIHx8ICFuYW1lKSByZXR1cm4gXG5cblx0XHRjb25zdCByZXF1ZXN0X2lkID0gY2N1dGlscy5nZW5lcmF0ZVVVSUQoKTtcblxuXHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKHRoaXMucmVxdWVzdEF0dHIsIHJlcXVlc3RfaWQpO1xuXHRcdFxuXHRcdGNydWQuY3JlYXRlRG9jdW1lbnQoe1xuXHRcdFx0XCJjb2xsZWN0aW9uXCI6IGNvbGxlY3Rpb24sXG5cdFx0XHRcImVsZW1lbnRcIjogcmVxdWVzdF9pZCxcblx0XHRcdFwibWV0YWRhdGFcIjogXCJcIixcblx0XHR9KVxuXHR9LFxuXHRcdFxuXHRfX3JlcXVlc3REb2N1bWVudElkT2ZGb3JtOiBmdW5jdGlvbiAoZm9ybSkge1xuXHRcdFxuXHRcdGxldCBzZWxmID0gdGhpcztcblx0XHRsZXQgZWxlbWVucyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW25hbWVdLCBbZGF0YS1wYXNzX3RvXScpXG5cdFx0XG5cdFx0bGV0IGNvbGxlY3Rpb25zID0gW107XG5cblx0XHRmb3IgKHZhciAgaSA9IDA7IGkgPCBlbGVtZW5zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsZXQgZWwgPSBlbGVtZW5zW2ldO1xuXHRcdFx0aWYgKGVsLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd0ZW1wbGF0ZScpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgY29sbGVjdGlvbiA9IGVsLmdldEF0dHJpYnV0ZShcImRhdGEtY29sbGVjdGlvblwiKSB8fCBlbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhc3NfY29sbGVjdGlvblwiKSB8fCBcIlwiO1x0XG5cdFx0XHRcblx0XHRcdGlmIChcblx0XHRcdFx0Y29sbGVjdGlvbiAhPT0gXCJcIiAmJiBcblx0XHRcdFx0IWNvbGxlY3Rpb25zLmluY2x1ZGVzKGNvbGxlY3Rpb24pICYmIFxuXHRcdFx0XHQoIXNlbGYuY2hlY2tJRChlbCwgJ2RhdGEtZG9jdW1lbnRfaWQnKSAmJiAhc2VsZi5jaGVja0lEKGVsLCAnZGF0YS1wYXNzX2RvY3VtZW50X2lkJykpXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29uc3QgcmVxdWVzdF9pZCA9IGNjdXRpbHMuZ2VuZXJhdGVVVUlEKCk7XG5cdFx0XHRcdGNvbGxlY3Rpb25zLnB1c2goY29sbGVjdGlvbik7XG5cblx0XHRcdFx0ZWwuc2V0QXR0cmlidXRlKHRoaXMucmVxdWVzdEF0dHIsIHJlcXVlc3RfaWQpO1xuXHRcdFx0XHQvLy4gZ2V0IERhdGFcblx0XHRcdFx0XG5cdFx0XHRcdGxldCBkYXRhID0gdXRpbHMuZ2V0Rm9ybURhdGEoZm9ybSwgXCJcIiwgY29sbGVjdGlvbik7XG5cdFx0XHRcdFxuXHRcdFx0XHQvKiBGaXhNRSBDcmVhdGUgRG9jdW1lbnQgcmVxdWVzdCAqL1x0XG5cdFx0XHRcdGNydWQuY3JlYXRlRG9jdW1lbnQoe1xuXHRcdFx0XHRcdFwiY29sbGVjdGlvblwiOiBjb2xsZWN0aW9uLFxuXHRcdFx0XHRcdFwiZWxlbWVudFwiOiByZXF1ZXN0X2lkLFxuXHRcdFx0XHRcdCdkYXRhJzogZGF0YSxcblx0XHRcdFx0XHRcIm1ldGFkYXRhXCI6IFwiXCIsXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF9fc2V0TmV3SWRQcm9jZXNzOiBmdW5jdGlvbihlbGVtZW50LCBkb2N1bWVudF9pZCwgcGFzcykge1xuXHRcdGlmICghZWxlbWVudCkgcmV0dXJuO1xuXHRcdFxuICBcdFx0ZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUodGhpcy5yZXF1ZXN0QXR0cik7XG5cdFx0Y29uc3QgZXZlbnRfZGF0YSA9IHtcblx0XHRcdGRvY3VtZW50X2lkOiBkb2N1bWVudF9pZCxcblx0XHR9XG5cblx0XHRpZiAoIXBhc3MgJiYgIXRoaXMuY2hlY2tJRChlbGVtZW50KSAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbmFtZScpKSB7XG5cdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcsIGRvY3VtZW50X2lkKTtcblx0ICBcdH1cblxuXHQgIFx0aWYgKHBhc3MgJiYgIXRoaXMuY2hlY2tJRChlbGVtZW50LCAnZGF0YS1wYXNzX2RvY3VtZW50X2lkJykgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEtcGFzc190bycpKSB7XG5cdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1wYXNzX2RvY3VtZW50X2lkJywgZG9jdW1lbnRfaWQpO1xuXHRcdFx0Ly8gQ29DcmVhdGVMb2dpYy5zdG9yZVBhc3NEYXRhKGVsZW1lbnQpXG5cdFx0XHRcblx0XHRcdGlmIChlbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdWJtaXRCdG4nKSkge1xuXHRcdFx0XHRlbGVtZW50LmNsaWNrKCk7XG5cdFx0XHR9XG5cdCAgXHR9XG4gIFx0XG5cdFx0dmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdzZXQtZG9jdW1lbnRfaWQnLCB7ZGV0YWlsOiBldmVudF9kYXRhfSlcblx0XHRlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG5cdH0sXG5cdFxuXHRfX3JlY2VpdmVkRG9jdW1lbnRJZDogZnVuY3Rpb24oZGF0YSkge1xuXHRcdGlmICghZGF0YVsnZG9jdW1lbnRfaWQnXSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGxldCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgWyR7dGhpcy5yZXF1ZXN0QXR0cn09XCIke2RhdGFbJ2VsZW1lbnQnXX1cIl1gKTtcblx0XHRpZiAoIWVsZW1lbnQpIHJldHVybjtcblx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cdFx0Y29uc3QgZm9ybSA9IChlbGVtZW50LnRhZ05hbWUgPT09IFwiRk9STVwiKSA/IGVsZW1lbnQgOiB1dGlscy5nZXRQYXJlbnRzKGVsZW1lbnQsICdmb3JtJyk7XG5cdFx0Y29uc3QgY29sbGVjdGlvbiA9IGRhdGFbJ2NvbGxlY3Rpb24nXTtcblx0XHRjb25zdCBpZCA9IGRhdGFbJ2RvY3VtZW50X2lkJ11cblx0XHRpZiAoZm9ybSAmJiBpZCkge1xuXHRcdFx0Zm9ybS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZm9ybV9pZCcsIGRhdGFbJ2VsZW1lbnQnXSk7XG5cdFx0XHRjb25zdCBlbGVtZW50cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtY29sbGVjdGlvbj0ke2NvbGxlY3Rpb259XSwgW2RhdGEtcGFzc19jb2xsZWN0aW9uPSR7Y29sbGVjdGlvbn1dYClcblx0XHRcdGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcblx0XHRcdFx0ZWwucmVtb3ZlQXR0cmlidXRlKHNlbGYucmVxdWVzdEF0dHIpO1xuXHRcdFx0XHRpZiAoZWwuaGFzQXR0cmlidXRlKCduYW1lJykpIHNlbGYuX19zZXROZXdJZFByb2Nlc3MoZWwsIGlkKTtcblx0XHRcdFx0aWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1wYXNzX3RvJykpIHNlbGYuX19zZXROZXdJZFByb2Nlc3MoZWwsIGlkLCB0cnVlKTtcblx0XHRcdH0pXG5cdCAgXHRcblx0XHR9IGVsc2UgaWYgKGVsZW1lbnQpIHtcblx0XHRcdHRoaXMuX19zZXROZXdJZFByb2Nlc3MoZWxlbWVudCwgaWQpO1xuXHRcdH1cblx0fSxcbn1cblxuLy8gQ29DcmVhdGVGb3JtLl9faW5pdCgpO1xuXG4vLyBjb3JlLnJlZ2lzdGVySW5pdChDb0NyZWF0ZUZvcm0uaW5pdEVsZW1lbnQsIENvQ3JlYXRlRm9ybSk7XG5cbi8vIG9ic2VydmVyLmluaXQoeyBcbi8vIFx0bmFtZTogJ0NvQ3JlYXRlRm9ybScsIFxuLy8gXHRvYnNlcnZlOiBbJ3N1YnRyZWUnLCAnY2hpbGRMaXN0J10sXG4vLyBcdGluY2x1ZGU6ICdmb3JtJywgXG4vLyBcdGNhbGxiYWNrOiBmdW5jdGlvbihtdXRhdGlvbikge1xuLy8gXHRcdENvQ3JlYXRlRm9ybS5pbml0RWxlbWVudChtdXRhdGlvbi50YXJnZXQpXG4vLyBcdH1cbi8vIH0pXG5cbi8vIGFjdGlvbi5pbml0KHtcbi8vIFx0YWN0aW9uOiBcImNyZWF0ZURvY3VtZW50XCIsXG4vLyBcdGVuZEV2ZW50OiBcImNyZWF0ZWREb2N1bWVudFwiLFxuLy8gXHRjYWxsYmFjazogKGJ0biwgZGF0YSkgPT4ge1xuLy8gXHRcdENvQ3JlYXRlRm9ybS5fX2NyZWF0ZURvY3VtZW50QWN0aW9uKGJ0bilcbi8vIFx0fSxcbi8vIH0pXG5cbi8vIGFjdGlvbi5pbml0KHtcbi8vIFx0YWN0aW9uOiBcImRlbGV0ZURvY3VtZW50XCIsXG4vLyBcdGVuZEV2ZW50OiBcImRlbGV0ZWREb2N1bWVudFwiLFxuLy8gXHRjYWxsYmFjazogKGJ0biwgZGF0YSkgPT4ge1xuLy8gXHRcdENvQ3JlYXRlRm9ybS5fX2RlbGV0ZURvY3VtZW50QWN0aW9uKGJ0bilcbi8vIFx0fSxcbi8vIH0pXG5cbi8vIGFjdGlvbi5pbml0KHtcbi8vIFx0YWN0aW9uOiBcImRlbGV0ZURvY3VtZW50c1wiLFxuLy8gXHRlbmRFdmVudDogXCJkZWxldGVkRG9jdW1lbnRzXCIsXG4vLyBcdGNhbGxiYWNrOiAoYnRuLCBkYXRhKSA9PiB7XG4vLyBcdFx0Q29DcmVhdGVEb2N1bWVudC5fX2RlbGV0ZURvY3VtZW50c0FjdGlvbihidG4pXG4vLyBcdH0sXG4vLyB9KVxuXG4vLyBhY3Rpb24uaW5pdCh7XG4vLyBcdGFjdGlvbjogXCJzYXZlRG9jdW1lbnRcIixcbi8vIFx0ZW5kRXZlbnQ6IFwic2F2ZWREb2N1bWVudFwiLFxuLy8gXHRjYWxsYmFjazogKGJ0biwgZGF0YSkgPT4ge1xuLy8gXHRcdENvQ3JlYXRlRm9ybS5fX3NhdmVEb2N1bWVudEFjdGlvbihidG4pXG4vLyBcdH0sXG4vLyB9KVxuXG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZUZvcm07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../CoCreate-form/src/index.js\n")},"../CoCreate-select/src/adapter.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _select = _interopRequireDefault(__webpack_require__(/*! ./select.js */ \"../CoCreate-select/src/select.js\"));\n\nvar _src = __webpack_require__(/*! ../../../CoCreateJS/src */ \"../../CoCreateJS/src/index.js\");\n\nvar _src2 = _interopRequireDefault(__webpack_require__(/*! ../../CoCreate-form/src */ \"../CoCreate-form/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst SelectAdapter = {\n  init: function () {\n    this.initElement();\n\n    this.__initEvents();\n  },\n  initElement: function (container) {\n    const mainContainer = container || document;\n\n    if (!mainContainer.querySelectorAll) {\n      return;\n    }\n\n    let containerList = mainContainer.querySelectorAll('cocreate-select, div.select--field');\n\n    for (let i = 0; i < containerList.length; i++) {\n      _select.default.__initSelect(containerList[i]);\n\n      this.__initElementEvent(containerList[i]);\n    }\n  },\n  __initEvents: function () {\n    const self = this;\n    document.addEventListener('dndsuccess', function (e) {\n      const {\n        dropedEl,\n        dragedEl\n      } = e.detail;\n\n      if (typeof dropedEl.tagName != 'undefined' && dropedEl.tagName.toLowerCase() == 'cocreate-select' || dropedEl.classList.contains('select--field')) {\n        self.save(dropedEl);\n        dropedEl.dispatchEvent(new CustomEvent('selectedValue'));\n      }\n    });\n    document.addEventListener('CoCreateSelect-save', function (e) {\n      const {\n        detail: {\n          element\n        }\n      } = e;\n\n      if (!element) {\n        return;\n      }\n\n      self.save(element);\n    });\n\n    _src.socket.listen('readDocument', function (data) {\n      if (data.metadata == 'cocreate-select') {\n        _select.default.setValue(data);\n      }\n    });\n\n    _src.socket.listen('updateDocument', function (data) {\n      if (data.metadata == 'cocreate-select') {\n        _select.default.setValue(data);\n      }\n    });\n\n    document.addEventListener('CoCreate-selected', function (e) {\n      const {\n        detail: {\n          element,\n          value\n        }\n      } = e;\n      console.log(e.detail);\n    });\n  },\n  __initElementEvent: function (selectContainer) {\n    const self = this;\n    selectContainer.addEventListener('set-document_id', function () {\n      self.save(this);\n    }); //. fetch logic\n\n    let collection = selectContainer.getAttribute('data-collection') || 'module_activity';\n    let id = selectContainer.getAttribute('data-document_id');\n\n    if (collection && id) {\n      _src.crud.readDocument({\n        'collection': collection,\n        'document_id': id,\n        'metadata': 'cocreate-select'\n      });\n    }\n  },\n  __sendRequest: function (selectContainer) {\n    let collection = selectContainer.getAttribute('data-collection') || 'module_activity';\n    let id = selectContainer.getAttribute('data-document_id');\n\n    if (collection && id) {\n      _src.crud.readDocument({\n        'collection': collection,\n        'document_id': id,\n        'metadata': 'cocreate-select'\n      });\n    }\n  },\n  save: function (element, isStore = true) {\n    let value = _select.default.getValue(element);\n\n    let collection = element.getAttribute('data-collection') || 'module_activity';\n    let id = element.getAttribute('data-document_id');\n    let name = element.getAttribute('name');\n    let realtime = element.getAttribute('data-realtime') || \"true\";\n    if (!name) return;\n    if (realtime != \"true\" && !isStore) return;\n\n    if (element.getAttribute('data-save_value') == 'false') {\n      return;\n    }\n\n    if (!_src2.default.checkID(element)) {\n      _src2.default.request({\n        element,\n        value,\n        nameAttr: \"name\"\n      });\n\n      element.setAttribute('data-document_id', 'pending');\n    } else if (id) {\n      _src.crud.updateDocument({\n        'collection': collection,\n        'document_id': id,\n        'data': {\n          [name]: value\n        },\n        'upsert': true,\n        'metadata': 'cocreate-select'\n      });\n    }\n  }\n};\nvar _default = SelectAdapter;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mbG9hdGluZ0xhYmVsLy4uL0NvQ3JlYXRlLXNlbGVjdC9zcmMvYWRhcHRlci5qcz9kMDIzIl0sIm5hbWVzIjpbIlNlbGVjdEFkYXB0ZXIiLCJpbml0IiwiaW5pdEVsZW1lbnQiLCJfX2luaXRFdmVudHMiLCJjb250YWluZXIiLCJtYWluQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29udGFpbmVyTGlzdCIsImkiLCJsZW5ndGgiLCJDb0NyZWF0ZVNlbGVjdCIsIl9faW5pdFNlbGVjdCIsIl9faW5pdEVsZW1lbnRFdmVudCIsInNlbGYiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImRyb3BlZEVsIiwiZHJhZ2VkRWwiLCJkZXRhaWwiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInNhdmUiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJlbGVtZW50Iiwic29ja2V0IiwibGlzdGVuIiwiZGF0YSIsIm1ldGFkYXRhIiwic2V0VmFsdWUiLCJ2YWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJzZWxlY3RDb250YWluZXIiLCJjb2xsZWN0aW9uIiwiZ2V0QXR0cmlidXRlIiwiaWQiLCJjcnVkIiwicmVhZERvY3VtZW50IiwiX19zZW5kUmVxdWVzdCIsImlzU3RvcmUiLCJnZXRWYWx1ZSIsIm5hbWUiLCJyZWFsdGltZSIsImZvcm0iLCJjaGVja0lEIiwicmVxdWVzdCIsIm5hbWVBdHRyIiwic2V0QXR0cmlidXRlIiwidXBkYXRlRG9jdW1lbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLGFBQWEsR0FBRztBQUVyQkMsTUFBSSxFQUFFLFlBQVc7QUFDaEIsU0FBS0MsV0FBTDs7QUFDQSxTQUFLQyxZQUFMO0FBQ0EsR0FMb0I7QUFPckJELGFBQVcsRUFBRSxVQUFTRSxTQUFULEVBQW9CO0FBQ2hDLFVBQU1DLGFB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QyxPQUFMLENBQWFyQixPQUFiLENBQUwsRUFBNEI7QUFDM0JvQixvQkFBS0UsT0FBTCxDQUFhO0FBQUN0QixlQUFEO0FBQVVNLGFBQVY7QUFBaUJpQixnQkFBUSxFQUFFO0FBQTNCLE9BQWI7O0FBQ0F2QixhQUFPLENBQUN3QixZQUFSLENBQXFCLGtCQUFyQixFQUF5QyxTQUF6QztBQUNBLEtBSEQsTUFHTyxJQUFJWixFQUFKLEVBQVE7QUFDZEMsZ0JBQUtZLGNBQUwsQ0FBb0I7QUFDbkIsc0JBQWNmLFVBREs7QUFFbkIsdUJBQWVFLEVBRkk7QUFHbkIsZ0JBQVM7QUFDUixXQUFDTSxJQUFELEdBQVNaO0FBREQsU0FIVTtBQU1uQixrQkFBVSxJQU5TO0FBT25CLG9CQUFZO0FBUE8sT0FBcEI7QUFTQTtBQUVEO0FBOUhvQixDQUF0QjtlQWlJZWpDLGEiLCJmaWxlIjoiLi4vQ29DcmVhdGUtc2VsZWN0L3NyYy9hZGFwdGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvQ3JlYXRlU2VsZWN0IGZyb20gXCIuL3NlbGVjdC5qc1wiXG5pbXBvcnQge3NvY2tldCwgY3J1ZH0gZnJvbSAnLi4vLi4vLi4vQ29DcmVhdGVKUy9zcmMnO1xuaW1wb3J0IGZvcm0gZnJvbSAnLi4vLi4vQ29DcmVhdGUtZm9ybS9zcmMnXG5cbmNvbnN0IFNlbGVjdEFkYXB0ZXIgPSB7XG5cdFxuXHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmluaXRFbGVtZW50KCk7XG5cdFx0dGhpcy5fX2luaXRFdmVudHMoKVxuXHR9LFxuXHRcblx0aW5pdEVsZW1lbnQ6IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuXHRcdGNvbnN0IG1haW5Db250YWluZXIgPSBjb250YWluZXIgfHwgZG9jdW1lbnQ7XG5cdFx0aWYgKCFtYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFxuXHRcdGxldCBjb250YWluZXJMaXN0ID0gbWFpbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdjb2NyZWF0ZS1zZWxlY3QsIGRpdi5zZWxlY3QtLWZpZWxkJyk7XG5cdFx0Zm9yKGxldCBpID0gMCA7IGkgPCBjb250YWluZXJMaXN0Lmxlbmd0aCA7IGkrKyl7XG5cdFx0XHRDb0NyZWF0ZVNlbGVjdC5fX2luaXRTZWxlY3QoY29udGFpbmVyTGlzdFtpXSk7XG5cdFx0XHR0aGlzLl9faW5pdEVsZW1lbnRFdmVudChjb250YWluZXJMaXN0W2ldKTtcblx0XHR9XG5cdH0sXG5cdFxuXHRfX2luaXRFdmVudHM6IGZ1bmN0aW9uKCkge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RuZHN1Y2Nlc3MnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRjb25zdCB7ZHJvcGVkRWwsIGRyYWdlZEVsfSA9IGUuZGV0YWlsO1xuXHRcdFx0aWYgKCh0eXBlb2YgZHJvcGVkRWwudGFnTmFtZSAhPSAndW5kZWZpbmVkJyAmJiBkcm9wZWRFbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ2NvY3JlYXRlLXNlbGVjdCcpIFxuXHRcdFx0XHRcdHx8IGRyb3BlZEVsLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0LS1maWVsZCcpKSBcblx0XHRcdHtcblx0XHRcdFx0c2VsZi5zYXZlKGRyb3BlZEVsKVxuXHRcdFx0XHRkcm9wZWRFbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnc2VsZWN0ZWRWYWx1ZScpKTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdFxuXHRcdFxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0NvQ3JlYXRlU2VsZWN0LXNhdmUnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRjb25zdCB7ZGV0YWlsOiB7ZWxlbWVudH19ID0gZTtcblx0XHRcdGlmICghZWxlbWVudCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHNlbGYuc2F2ZShlbGVtZW50KTtcblx0XHR9KVxuXHRcdFxuXHRcdHNvY2tldC5saXN0ZW4oJ3JlYWREb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRcdGlmIChkYXRhLm1ldGFkYXRhID09ICdjb2NyZWF0ZS1zZWxlY3QnKSB7XG5cdFx0XHRcdENvQ3JlYXRlU2VsZWN0LnNldFZhbHVlKGRhdGEpO1xuXHRcdFx0fVxuXHRcdH0pXG5cdFx0XG5cdFx0c29ja2V0Lmxpc3RlbigndXBkYXRlRG9jdW1lbnQnLCBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRpZiAoZGF0YS5tZXRhZGF0YSA9PSAnY29jcmVhdGUtc2VsZWN0Jykge1xuXHRcdFx0XHRDb0NyZWF0ZVNlbGVjdC5zZXRWYWx1ZShkYXRhKTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdFxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0NvQ3JlYXRlLXNlbGVjdGVkJywgZnVuY3Rpb24oZSl7XG5cdFx0XHRjb25zdCB7ZGV0YWlsOiB7ZWxlbWVudCwgdmFsdWV9fSA9IGU7XG5cdFx0XHRjb25zb2xlLmxvZyhlLmRldGFpbClcblx0XHRcdFxuXHRcdH0pXG5cdH0sXG5cdFxuXHRfX2luaXRFbGVtZW50RXZlbnQ6IGZ1bmN0aW9uKHNlbGVjdENvbnRhaW5lcikge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXG5cdFx0c2VsZWN0Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3NldC1kb2N1bWVudF9pZCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0c2VsZi5zYXZlKHRoaXMpXG5cdFx0fSlcblx0XHRcblx0XHQvLy4gZmV0Y2ggbG9naWNcblx0XHRsZXQgY29sbGVjdGlvbiA9IHNlbGVjdENvbnRhaW5lci5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sbGVjdGlvbicpIHx8ICdtb2R1bGVfYWN0aXZpdHknO1xuXHRcdGxldCBpZCA9IHNlbGVjdENvbnRhaW5lci5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG9jdW1lbnRfaWQnKTtcblx0XHRcblx0XHRpZiAoY29sbGVjdGlvbiAmJiBpZCkge1xuXHRcdFx0Y3J1ZC5yZWFkRG9jdW1lbnQoe1xuXHRcdFx0XHQnY29sbGVjdGlvbic6IGNvbGxlY3Rpb24sIFxuXHRcdFx0XHQnZG9jdW1lbnRfaWQnOiBpZCxcblx0XHRcdFx0J21ldGFkYXRhJzogJ2NvY3JlYXRlLXNlbGVjdCdcblx0XHRcdH0pXG5cdFx0fVxuXHR9LFxuXHRcblx0X19zZW5kUmVxdWVzdDogZnVuY3Rpb24oc2VsZWN0Q29udGFpbmVyKSB7XG5cdFx0bGV0IGNvbGxlY3Rpb24gPSBzZWxlY3RDb250YWluZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKSB8fCAnbW9kdWxlX2FjdGl2aXR5Jztcblx0XHRsZXQgaWQgPSBzZWxlY3RDb250YWluZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJyk7XG5cdFx0XG5cdFx0aWYgKGNvbGxlY3Rpb24gJiYgaWQpIHtcblx0XHRcdGNydWQucmVhZERvY3VtZW50KHtcblx0XHRcdFx0J2NvbGxlY3Rpb24nOiBjb2xsZWN0aW9uLCBcblx0XHRcdFx0J2RvY3VtZW50X2lkJzogaWQsXG5cdFx0XHRcdCdtZXRhZGF0YSc6ICdjb2NyZWF0ZS1zZWxlY3QnXG5cdFx0XHR9KVxuXHRcdH1cblx0fSxcblxuXHRzYXZlOiBmdW5jdGlvbihlbGVtZW50LCBpc1N0b3JlID0gdHJ1ZSkge1xuXHRcblx0XHRsZXQgdmFsdWUgPSBDb0NyZWF0ZVNlbGVjdC5nZXRWYWx1ZShlbGVtZW50KTtcblx0XHRcblx0XHRsZXQgY29sbGVjdGlvbiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKSB8fCAnbW9kdWxlX2FjdGl2aXR5Jztcblx0XHRcblx0XHRsZXQgaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcpO1xuXHRcdGxldCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcblx0XHRsZXQgcmVhbHRpbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1yZWFsdGltZScpIHx8IFwidHJ1ZVwiO1xuXHRcdGlmICghbmFtZSkgcmV0dXJuO1xuXHRcdFxuXHRcdGlmIChyZWFsdGltZSAhPSBcInRydWVcIiAmJiAhaXNTdG9yZSkgcmV0dXJuO1xuXHRcdFxuXHRcdGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zYXZlX3ZhbHVlJykgPT0gJ2ZhbHNlJykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRcblx0XHRpZiAoIWZvcm0uY2hlY2tJRChlbGVtZW50KSkge1xuXHRcdFx0Zm9ybS5yZXF1ZXN0KHtlbGVtZW50LCB2YWx1ZSwgbmFtZUF0dHI6IFwibmFtZVwifSk7XG5cdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1kb2N1bWVudF9pZCcsICdwZW5kaW5nJyk7XG5cdFx0fSBlbHNlIGlmIChpZCkge1xuXHRcdFx0Y3J1ZC51cGRhdGVEb2N1bWVudCh7XG5cdFx0XHRcdCdjb2xsZWN0aW9uJzogY29sbGVjdGlvbiwgXG5cdFx0XHRcdCdkb2N1bWVudF9pZCc6IGlkLCBcblx0XHRcdFx0J2RhdGEnIDogeyBcblx0XHRcdFx0XHRbbmFtZV0gOiB2YWx1ZSBcblx0XHRcdFx0fSxcblx0XHRcdFx0J3Vwc2VydCc6IHRydWUsXG5cdFx0XHRcdCdtZXRhZGF0YSc6ICdjb2NyZWF0ZS1zZWxlY3QnXG5cdFx0XHR9KVxuXHRcdH1cblx0XHRcblx0fSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0QWRhcHRlcjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../CoCreate-select/src/adapter.js\n")},"../CoCreate-select/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _select = _interopRequireDefault(__webpack_require__(/*! ./select.js */ \"../CoCreate-select/src/select.js\"));\n\nvar _adapter = _interopRequireDefault(__webpack_require__(/*! ./adapter.js */ \"../CoCreate-select/src/adapter.js\"));\n\nvar _src = _interopRequireDefault(__webpack_require__(/*! ../../CoCreate-observer/src */ \"../CoCreate-observer/src/index.js\"));\n\nvar _src2 = _interopRequireDefault(__webpack_require__(/*! ../../CoCreate-form/src */ \"../CoCreate-form/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_adapter.default.init();\n\n_select.default.adapter = _adapter.default;\n\n_src.default.init({\n  name: 'CoCreateSelectAttributes',\n  observe: ['attributes'],\n  attributes: ['data-document_id'],\n  include: 'cocreate-select',\n  callback: function (mutation) {\n    _adapter.default.__sendRequest(mutation.target);\n  }\n});\n\n_src.default.init({\n  name: 'CoCreateSelect',\n  observe: ['subtree', 'childList'],\n  include: 'cocreate-select',\n  callback: function (mutation) {\n    _adapter.default.initElement(mutation.target);\n  }\n});\n\n_src2.default.init({\n  name: 'CoCreateSelect',\n  selector: \"cocreate-select\",\n  callback: function (el) {\n    _adapter.default.save(el);\n  }\n});\n\nvar _default = _select.default;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mbG9hdGluZ0xhYmVsLy4uL0NvQ3JlYXRlLXNlbGVjdC9zcmMvaW5kZXguanM/ZTBlMSJdLCJuYW1lcyI6WyJTZWxlY3RBZGFwdGVyIiwiaW5pdCIsIkNvQ3JlYXRlU2VsZWN0IiwiYWRhcHRlciIsIkNvQ3JlYXRlT2JzZXJ2ZXIiLCJuYW1lIiwib2JzZXJ2ZSIsImF0dHJpYnV0ZXMiLCJpbmNsdWRlIiwiY2FsbGJhY2siLCJtdXRhdGlvbiIsIl9fc2VuZFJlcXVlc3QiLCJ0YXJnZXQiLCJpbml0RWxlbWVudCIsImZvcm0iLCJzZWxlY3RvciIsImVsIiwic2F2ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUFBLGlCQUFjQyxJQUFkOztBQUNBQyxnQkFBZUMsT0FBZixHQUF5QkgsZ0JBQXpCOztBQUVBSSxhQUFpQkgsSUFBakIsQ0FBc0I7QUFDckJJLE1BQUksRUFBRSwwQkFEZTtBQUVyQkMsU0FBTyxFQUFFLENBQUMsWUFBRCxDQUZZO0FBR3JCQyxZQUFVLEVBQUUsQ0FBQyxrQkFBRCxDQUhTO0FBSXJCQyxTQUFPLEVBQUUsaUJBSlk7QUFLckJDLFVBQVEsRUFBRSxVQUFTQyxRQUFULEVBQW1CO0FBQzVCVixxQkFBY1csYUFBZCxDQUE0QkQsUUFBUSxDQUFDRSxNQUFyQztBQUNBO0FBUG9CLENBQXRCOztBQVVBUixhQUFpQkgsSUFBakIsQ0FBc0I7QUFDckJJLE1BQUksRUFBRSxnQkFEZTtBQUVyQkMsU0FBTyxFQUFFLENBQUMsU0FBRCxFQUFZLFdBQVosQ0FGWTtBQUdyQkUsU0FBTyxFQUFFLGlCQUhZO0FBSXJCQyxVQUFRLEVBQUUsVUFBU0MsUUFBVCxFQUFtQjtBQUM1QlYscUJBQWNhLFdBQWQsQ0FBMEJILFFBQVEsQ0FBQ0UsTUFBbkM7QUFDQTtBQU5vQixDQUF0Qjs7QUFTQUUsY0FBS2IsSUFBTCxDQUFVO0FBQ1RJLE1BQUksRUFBRSxnQkFERztBQUVUVSxVQUFRLEVBQUUsaUJBRkQ7QUFHVE4sVUFBUSxFQUFFLFVBQVNPLEVBQVQsRUFBYTtBQUN0QmhCLHFCQUFjaUIsSUFBZCxDQUFtQkQsRUFBbkI7QUFDQTtBQUxRLENBQVY7O2VBT2VkLGUiLCJmaWxlIjoiLi4vQ29DcmVhdGUtc2VsZWN0L3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb0NyZWF0ZVNlbGVjdCBmcm9tIFwiLi9zZWxlY3QuanNcIlxuaW1wb3J0IFNlbGVjdEFkYXB0ZXIgZnJvbSBcIi4vYWRhcHRlci5qc1wiXG5pbXBvcnQgQ29DcmVhdGVPYnNlcnZlciBmcm9tICcuLi8uLi9Db0NyZWF0ZS1vYnNlcnZlci9zcmMnO1xuaW1wb3J0IGZvcm0gZnJvbSAnLi4vLi4vQ29DcmVhdGUtZm9ybS9zcmMnXG5cblNlbGVjdEFkYXB0ZXIuaW5pdCgpO1xuQ29DcmVhdGVTZWxlY3QuYWRhcHRlciA9IFNlbGVjdEFkYXB0ZXI7XG5cbkNvQ3JlYXRlT2JzZXJ2ZXIuaW5pdCh7IFxuXHRuYW1lOiAnQ29DcmVhdGVTZWxlY3RBdHRyaWJ1dGVzJywgXG5cdG9ic2VydmU6IFsnYXR0cmlidXRlcyddLFxuXHRhdHRyaWJ1dGVzOiBbJ2RhdGEtZG9jdW1lbnRfaWQnXSxcblx0aW5jbHVkZTogJ2NvY3JlYXRlLXNlbGVjdCcsIFxuXHRjYWxsYmFjazogZnVuY3Rpb24obXV0YXRpb24pIHtcblx0XHRTZWxlY3RBZGFwdGVyLl9fc2VuZFJlcXVlc3QobXV0YXRpb24udGFyZ2V0KVxuXHR9XG59KTtcblxuQ29DcmVhdGVPYnNlcnZlci5pbml0KHsgXG5cdG5hbWU6ICdDb0NyZWF0ZVNlbGVjdCcsIFxuXHRvYnNlcnZlOiBbJ3N1YnRyZWUnLCAnY2hpbGRMaXN0J10sXG5cdGluY2x1ZGU6ICdjb2NyZWF0ZS1zZWxlY3QnLCBcblx0Y2FsbGJhY2s6IGZ1bmN0aW9uKG11dGF0aW9uKSB7XG5cdFx0U2VsZWN0QWRhcHRlci5pbml0RWxlbWVudChtdXRhdGlvbi50YXJnZXQpXG5cdH1cbn0pO1xuXG5mb3JtLmluaXQoe1xuXHRuYW1lOiAnQ29DcmVhdGVTZWxlY3QnLFxuXHRzZWxlY3RvcjogXCJjb2NyZWF0ZS1zZWxlY3RcIixcblx0Y2FsbGJhY2s6IGZ1bmN0aW9uKGVsKSB7XG5cdFx0U2VsZWN0QWRhcHRlci5zYXZlKGVsKTtcblx0fVxufSk7XG5leHBvcnQgZGVmYXVsdCBDb0NyZWF0ZVNlbGVjdDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../CoCreate-select/src/index.js\n")},"../CoCreate-select/src/select.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _src = _interopRequireDefault(__webpack_require__(/*! ../../CoCreate-observer/src */ \"../CoCreate-observer/src/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst CoCreateSelect = {\n  init: function () {\n    this.initElement(); // this.__initEvents()\n  },\n  initElement: function (container) {\n    const mainContainer = container || document;\n\n    if (!mainContainer.querySelectorAll) {\n      return;\n    }\n\n    let containerList = mainContainer.querySelectorAll('cocreate-select, div.select--field');\n\n    for (let i = 0; i < containerList.length; i++) {\n      let selectContainer = containerList[i];\n\n      this.__initSelect(selectContainer);\n    }\n  },\n  __initEvents: function () {\n    const self = this;\n    document.addEventListener('dndsuccess', function (e) {\n      const {\n        dropedEl,\n        dragedEl\n      } = e.detail;\n\n      if (typeof dropedEl.tagName != 'undefined' && dropedEl.tagName.toLowerCase() == 'cocreate-select' || dropedEl.classList.contains('select--field')) {\n        self.save(dropedEl);\n\n        self.__fireSelectedEvent(dropedEl);\n      }\n    });\n  },\n  __initSelect: function (selectContainer) {\n    if (_src.default.getInitialized(selectContainer, \"cocreate-select\")) {\n      return;\n    }\n\n    _src.default.setInitialized(selectContainer, \"cocreate-select\");\n\n    let input = selectContainer.querySelector('input');\n    let ul_selector = selectContainer.querySelector('ul.selectable--list');\n    const self = this;\n\n    if (input) {\n      input.addEventListener('keydown', function (e) {\n        let keyCode = e.keyCode;\n\n        if (keyCode == 13) {\n          e.preventDefault();\n        }\n\n        if (keyCode == 13 && this.value.length > 0) {\n          self.__selectValue(this.value, selectContainer);\n\n          self.save(selectContainer);\n\n          self.__fireSelectedEvent(selectContainer);\n\n          this.value = '';\n        } else if (keyCode == 8 && !this.value.length) {\n          let selectedItems = selectContainer.querySelectorAll('[selected]');\n\n          if (selectedItems.length > 0) {\n            selectedItems[selectedItems.length - 1].remove();\n            self.save(selectContainer);\n\n            self.__fireSelectedEvent(selectContainer);\n          }\n        }\n      });\n    }\n\n    document.addEventListener('click', function (event) {\n      var isClickInside = selectContainer.contains(event.target);\n\n      if (!isClickInside) {\n        self.__closeDropDown(selectContainer);\n      }\n    });\n    ul_selector.addEventListener('click', function (e) {\n      if (!e.target.matches('li')) {\n        let li = e.target;\n\n        while (typeof li.tagName != 'undefined' && li.tagName.toLowerCase() != 'li') {\n          li = li.parentNode;\n        }\n\n        if (li.classList && li.classList.contains('selectable')) {\n          // check if data exist\n          let value = li.getAttribute('value');\n          let selectValue = self.getValue(selectContainer);\n          if (value == selectValue || selectValue.indexOf(value) > -1) return; /// here emit event\n\n          self.__selectItem(li, selectContainer);\n\n          self.save(selectContainer);\n\n          self.__fireSelectedEvent(selectContainer);\n        }\n      }\n    });\n    selectContainer.addEventListener('click', function (e) {\n      if (e.target.matches('.remove')) {\n        e.target.parentNode.remove();\n        self.save(selectContainer);\n\n        self.__fireSelectedEvent(selectContainer);\n\n        return;\n      }\n\n      if (!ul_selector.classList.contains('open')) {\n        self.__openDropDown(selectContainer);\n      }\n\n      let input = selectContainer.querySelector('input');\n\n      if (input) {\n        input.focus();\n      }\n    }, true);\n  },\n  __openDropDown: function (selectContainer, focus = true) {\n    if (focus) {\n      let input = selectContainer.querySelector('input');\n      let ul_selector = selectContainer.querySelector('ul.selectable--list');\n\n      if (input) {\n        input.classList.add('open');\n        input.focus();\n      }\n\n      if (ul_selector && ul_selector) {\n        ul_selector.classList.add('open');\n      }\n\n      selectContainer.dispatchEvent(new CustomEvent('CoCreateSelect-open'));\n    }\n  },\n  __closeDropDown: function (selectContainer) {\n    let input = selectContainer.querySelector('input');\n    let ul_selector = selectContainer.querySelector('ul.selectable--list');\n\n    if (input && input.classList.contains('open')) {\n      input.classList.remove('open');\n    }\n\n    if (ul_selector && ul_selector.classList.contains('open')) {\n      ul_selector.classList.remove('open');\n      selectContainer.dispatchEvent(new CustomEvent('CoCreateSelect-close'));\n    }\n  },\n  setValue: function (data) {\n    const self = this;\n    let selectContainers = document.querySelectorAll('cocreate-select,.select--field');\n    selectContainers.forEach(selectEl => {\n      const collection = selectEl.getAttribute('data-collection') || 'module_activity';\n      const id = selectEl.getAttribute('data-document_id');\n      const name = selectEl.getAttribute('name');\n\n      if (data['collection'] == collection && data['document_id'] == id && name) {\n        self.__renderValue(selectEl, data['data'][name]);\n      }\n    });\n  },\n  renderValue: function (target, value) {\n    this.__renderValue(target, value);\n  },\n  __renderValue: function (selectContainer, values) {\n    if (!values) {\n      return;\n    }\n\n    let selectedItems = selectContainer.querySelectorAll('[selected]');\n    selectedItems.forEach(item => item.remove());\n    let ul_selector = selectContainer.querySelector('ul.selectable--list');\n\n    if (values && typeof values === 'string') {\n      values = [values];\n    }\n\n    for (let i = 0; i < values.length; i++) {\n      const selectedItem = ul_selector.querySelector(\"li[value='\" + values[i] + \"']\");\n\n      if (selectedItem) {\n        this.__selectItem(selectedItem, selectContainer, false);\n      } else {\n        this.__selectValue(values[i], selectContainer, false);\n      }\n    }\n\n    try {\n      if (CoCreateFloatLabel) {\n        CoCreateFloatLabel.update(selectContainer, values && values.length > 0);\n      }\n    } catch (err) {}\n  },\n  __selectValue: function (value, selectContainer) {\n    let currentValue = this.getValue(selectContainer);\n    if (currentValue == value || currentValue.indexOf(value) > -1) return;\n    let searchInput = selectContainer.querySelector('input');\n    let ul_selector = selectContainer.querySelector('ul.selectable--list');\n    let span = document.createElement('span');\n    span.innerHTML = 'x';\n    span.classList.add('remove');\n    let li = document.createElement('li');\n    li.setAttribute('value', value); // li.setAttribute('data-value', value);\n\n    li.innerHTML = value;\n    li.setAttribute('selected', \"\"); // li.classList.add('selected');\n\n    li.classList.remove('selectable');\n    li.appendChild(span);\n    selectContainer.insertBefore(li, searchInput ? searchInput : ul_selector);\n  },\n  __selectItem: function (li, selectContainer, focus = true) {\n    let type = selectContainer.hasAttribute('multiple') ? 'multiple' : 'single';\n    let searchInput = selectContainer.querySelector('input');\n    let ul_selector = selectContainer.querySelector('ul.selectable--list');\n\n    if (type == 'single') {\n      let selectedItems = selectContainer.querySelectorAll('[selected]');\n      selectedItems.forEach(item => item.remove());\n\n      if (searchInput) {\n        searchInput.value = '';\n      }\n    }\n\n    let span = document.createElement('span');\n    span.innerHTML = 'x';\n    span.classList.add('remove');\n    let selectedItem = li.cloneNode(true); // selectedItem.classList.add('selected');\n\n    selectedItem.setAttribute(\"selected\", \"\");\n    selectedItem.classList.remove('selectable');\n    selectedItem.appendChild(span);\n    selectContainer.insertBefore(selectedItem, searchInput ? searchInput : ul_selector);\n\n    if (type == 'single') {\n      this.__closeDropDown(selectContainer);\n    }\n  },\n  getValue: function (node) {\n    let type = node.hasAttribute('multiple') ? 'multiple' : 'single';\n    let selectedItems = node.querySelectorAll('[selected]');\n    let value = [];\n\n    if (selectedItems.length > 0) {\n      selectedItems.forEach(item => value.push(item.getAttribute('value')));\n    }\n\n    value = type === 'multiple' ? value : value[0] || '';\n    return value;\n  },\n  save: function (selectEl) {\n    if (!selectEl) {\n      return;\n    }\n\n    let event = new CustomEvent('CoCreateSelect-save', {\n      detail: {\n        element: selectEl\n      }\n    });\n    document.dispatchEvent(event);\n  },\n  __fireSelectedEvent: function (element) {\n    element.dispatchEvent(new CustomEvent('selectedValue'));\n    element.dispatchEvent(new CustomEvent('input', {\n      bubbles: true\n    }));\n    let value = this.getValue(element);\n    document.dispatchEvent(new CustomEvent('CoCreate-selected', {\n      detail: {\n        element: element,\n        value: value\n      }\n    }));\n  }\n};\nvar _default = CoCreateSelect;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mbG9hdGluZ0xhYmVsLy4uL0NvQ3JlYXRlLXNlbGVjdC9zcmMvc2VsZWN0LmpzPzU1NjIiXSwibmFtZXMiOlsiQ29DcmVhdGVTZWxlY3QiLCJpbml0IiwiaW5pdEVsZW1lbnQiLCJjb250YWluZXIiLCJtYWluQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29udGFpbmVyTGlzdCIsImkiLCJsZW5ndGgiLCJzZWxlY3RDb250YWluZXIiLCJfX2luaXRTZWxlY3QiLCJfX2luaXRFdmVudHMiLCJzZWxmIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJkcm9wZWRFbCIsImRyYWdlZEVsIiwiZGV0YWlsIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJzYXZlIiwiX19maXJlU2VsZWN0ZWRFdmVudCIsIkNvQ3JlYXRlT2JzZXJ2ZXIiLCJnZXRJbml0aWFsaXplZCIsInNldEluaXRpYWxpemVkIiwiaW5wdXQiLCJxdWVyeVNlbGVjdG9yIiwidWxfc2VsZWN0b3IiLCJrZXlDb2RlIiwicHJldmVudERlZmF1bHQiLCJ2YWx1ZSIsIl9fc2VsZWN0VmFsdWUiLCJzZWxlY3RlZEl0ZW1zIiwicmVtb3ZlIiwiZXZlbnQiLCJpc0NsaWNrSW5zaWRlIiwidGFyZ2V0IiwiX19jbG9zZURyb3BEb3duIiwibWF0Y2hlcyIsImxpIiwicGFyZW50Tm9kZSIsImdldEF0dHJpYnV0ZSIsInNlbGVjdFZhbHVlIiwiZ2V0VmFsdWUiLCJpbmRleE9mIiwiX19zZWxlY3RJdGVtIiwiX19vcGVuRHJvcERvd24iLCJmb2N1cyIsImFkZCIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsInNldFZhbHVlIiwiZGF0YSIsInNlbGVjdENvbnRhaW5lcnMiLCJmb3JFYWNoIiwic2VsZWN0RWwiLCJjb2xsZWN0aW9uIiwiaWQiLCJuYW1lIiwiX19yZW5kZXJWYWx1ZSIsInJlbmRlclZhbHVlIiwidmFsdWVzIiwiaXRlbSIsInNlbGVjdGVkSXRlbSIsIkNvQ3JlYXRlRmxvYXRMYWJlbCIsInVwZGF0ZSIsImVyciIsImN1cnJlbnRWYWx1ZSIsInNlYXJjaElucHV0Iiwic3BhbiIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImluc2VydEJlZm9yZSIsInR5cGUiLCJoYXNBdHRyaWJ1dGUiLCJjbG9uZU5vZGUiLCJub2RlIiwicHVzaCIsImVsZW1lbnQiLCJidWJibGVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxNQUFNQSxjQUFjLEdBQUc7QUFFckJDLE1BQUksRUFBRSxZQUFXO0FBQ2YsU0FBS0MsV0FBTCxHQURlLENBRWY7QUFDRCxHQUxvQjtBQU9yQkEsYUFBVyxFQUFFLFVBQVNDLFNBQVQsRUFBb0I7QUFDL0IsVUFBTUMsYUFBYSxHQUFHRCxTQUFTLElBQUlFLFFBQW5DOztBQUVBLFFBQUksQ0FBQ0QsYUFBYSxDQUFDRSxnQkFBbkIsRUFBcUM7QUFDbkM7QUFDRDs7QUFFRCxRQUFJQyxhQUFhLEdBQUdILGFBQWEsQ0FBQ0UsZ0JBQWQsQ0FBK0Isb0NBQS9CLENBQXBCOztBQUVBLFNBQUksSUFBSUUsQ0FBQyxHQUFHLENBQVosRUFBZ0JBLENBQUMsR0FBR0QsYUFBYSxDQUFDRSxNQUFsQyxFQUEyQ0QsQ0FBQyxFQUE1QyxFQUErQztBQUM3QyxVQUFJRSxlQUFlLEdBQUdILGFBQWEsQ0FBQ0MsQ0FBRCxDQUFuQzs7QUFDQSxXQUFLRyxZQUFMLENBQWtCRCxlQUFsQjtBQUNEO0FBQ0YsR0FwQm9CO0FBc0JyQkUsY0FBWSxFQUFFLFlBQVc7QUFDdkIsVUFBTUMsSUFBSSxHQUFHLElBQWI7QUFDQVIsWUFBUSxDQUFDUyxnQkFBVCxDQUEwQixZQUExQixFQUF3QyxVQUFTQyxDQUFULEVBQVk7QUFDckQsWUFBTTtBQUFDQyxnQkFBRDtBQUFXQztBQUFYLFVBQXVCRixDQUFDLENBQUNHLE1BQS9COztBQUNHLFVBQUssT0FB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T0FBZCxDQUFaO0FBQ0E5RSxZQUFRLENBQUMrQyxhQUFULENBQXVCLElBQUlDLFdBQUosQ0FBZ0IsbUJBQWhCLEVBQXFDO0FBQzFEbkMsWUFBTSxFQUFFO0FBQ05pRSxlQUFPLEVBQUVBLE9BREg7QUFFTmxELGFBQUssRUFBRUE7QUFGRDtBQURrRCxLQUFyQyxDQUF2QjtBQU1EO0FBMVJvQixDQUF2QjtlQTZSZWpDLGMiLCJmaWxlIjoiLi4vQ29DcmVhdGUtc2VsZWN0L3NyYy9zZWxlY3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29DcmVhdGVPYnNlcnZlciBmcm9tICcuLi8uLi9Db0NyZWF0ZS1vYnNlcnZlci9zcmMnO1xuXG5jb25zdCBDb0NyZWF0ZVNlbGVjdCA9IHtcbiAgXG4gIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5pdEVsZW1lbnQoKTtcbiAgICAvLyB0aGlzLl9faW5pdEV2ZW50cygpXG4gIH0sXG4gIFxuICBpbml0RWxlbWVudDogZnVuY3Rpb24oY29udGFpbmVyKSB7XG4gICAgY29uc3QgbWFpbkNvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBkb2N1bWVudDtcbiAgICBcbiAgICBpZiAoIW1haW5Db250YWluZXIucXVlcnlTZWxlY3RvckFsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgXG4gICAgbGV0IGNvbnRhaW5lckxpc3QgPSBtYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2NvY3JlYXRlLXNlbGVjdCwgZGl2LnNlbGVjdC0tZmllbGQnKTtcbiAgICBcbiAgICBmb3IobGV0IGkgPSAwIDsgaSA8IGNvbnRhaW5lckxpc3QubGVuZ3RoIDsgaSsrKXtcbiAgICAgIGxldCBzZWxlY3RDb250YWluZXIgPSBjb250YWluZXJMaXN0W2ldO1xuICAgICAgdGhpcy5fX2luaXRTZWxlY3Qoc2VsZWN0Q29udGFpbmVyKTtcbiAgICB9XG4gIH0sXG4gIFxuICBfX2luaXRFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RuZHN1Y2Nlc3MnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRjb25zdCB7ZHJvcGVkRWwsIGRyYWdlZEVsfSA9IGUuZGV0YWlsO1xuICAgICAgaWYgKCh0eXBlb2YgZHJvcGVkRWwudGFnTmFtZSAhPSAndW5kZWZpbmVkJyAmJiBkcm9wZWRFbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ2NvY3JlYXRlLXNlbGVjdCcpIFxuICAgICAgICAgIHx8IGRyb3BlZEVsLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0LS1maWVsZCcpKSBcbiAgICAgIHtcbiAgICAgICAgc2VsZi5zYXZlKGRyb3BlZEVsKVxuICAgICAgICBzZWxmLl9fZmlyZVNlbGVjdGVkRXZlbnQoZHJvcGVkRWwsIClcbiAgICAgIH1cblx0XHR9KVxuICB9LFxuXG4gIF9faW5pdFNlbGVjdDogZnVuY3Rpb24oc2VsZWN0Q29udGFpbmVyKSB7XG4gIFxuICBcdGlmIChDb0NyZWF0ZU9ic2VydmVyLmdldEluaXRpYWxpemVkKHNlbGVjdENvbnRhaW5lciwgXCJjb2NyZWF0ZS1zZWxlY3RcIikpIHtcbiAgXHRcdHJldHVybjtcbiAgXHR9XG4gIFx0Q29DcmVhdGVPYnNlcnZlci5zZXRJbml0aWFsaXplZChzZWxlY3RDb250YWluZXIsIFwiY29jcmVhdGUtc2VsZWN0XCIpXG4gIFx0XG4gICAgXG4gICAgbGV0IGlucHV0ID0gc2VsZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgbGV0IHVsX3NlbGVjdG9yID0gc2VsZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3VsLnNlbGVjdGFibGUtLWxpc3QnKTtcblxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIFxuICAgIGlmIChpbnB1dCkge1xuXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBsZXQga2V5Q29kZSA9IGUua2V5Q29kZTtcbiAgICAgICAgaWYgKGtleUNvZGUgPT0gMTMpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGtleUNvZGUgPT0gMTMgJiYgdGhpcy52YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2VsZi5fX3NlbGVjdFZhbHVlKHRoaXMudmFsdWUsIHNlbGVjdENvbnRhaW5lcik7XG4gICAgICAgICAgc2VsZi5zYXZlKHNlbGVjdENvbnRhaW5lcilcbiAgICAgICAgICBzZWxmLl9fZmlyZVNlbGVjdGVkRXZlbnQoc2VsZWN0Q29udGFpbmVyKVxuICAgICAgICAgIHRoaXMudmFsdWUgPSAnJztcbiAgICAgICAgfSBlbHNlIGlmIChrZXlDb2RlID09IDggJiYgIXRoaXMudmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgbGV0IHNlbGVjdGVkSXRlbXMgPSBzZWxlY3RDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnW3NlbGVjdGVkXScpO1xuICAgICAgICAgIGlmIChzZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNlbGVjdGVkSXRlbXNbc2VsZWN0ZWRJdGVtcy5sZW5ndGggLTFdLnJlbW92ZSgpO1xuICAgICAgICAgICAgc2VsZi5zYXZlKHNlbGVjdENvbnRhaW5lcilcbiAgICAgICAgICAgIHNlbGYuX19maXJlU2VsZWN0ZWRFdmVudChzZWxlY3RDb250YWluZXIpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgICBcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgaXNDbGlja0luc2lkZSA9IHNlbGVjdENvbnRhaW5lci5jb250YWlucyhldmVudC50YXJnZXQpO1xuICAgICAgaWYgKCFpc0NsaWNrSW5zaWRlKSB7XG4gICAgICAgIHNlbGYuX19jbG9zZURyb3BEb3duKHNlbGVjdENvbnRhaW5lcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgdWxfc2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKCFlLnRhcmdldC5tYXRjaGVzKCdsaScpKSB7XG4gICAgICAgIGxldCBsaSA9IGUudGFyZ2V0O1xuICAgICAgICB3aGlsZSh0eXBlb2YgbGkudGFnTmFtZSAhPSAndW5kZWZpbmVkJyAmJiBsaS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT0gJ2xpJykge1xuICAgICAgICAgIGxpID0gbGkucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGxpLmNsYXNzTGlzdCAmJiBsaS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGFibGUnKSkge1xuICAgICAgICAgIC8vIGNoZWNrIGlmIGRhdGEgZXhpc3RcbiAgICAgICAgICBsZXQgdmFsdWUgPSBsaS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgICAgbGV0IHNlbGVjdFZhbHVlID0gc2VsZi5nZXRWYWx1ZShzZWxlY3RDb250YWluZXIpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICh2YWx1ZSA9PSBzZWxlY3RWYWx1ZSB8fCBzZWxlY3RWYWx1ZS5pbmRleE9mKHZhbHVlKSA+IC0xKSByZXR1cm47XG4gICAgICAgICAgXG4gICAgICAgICAgLy8vIGhlcmUgZW1pdCBldmVudFxuICAgICAgICAgIHNlbGYuX19zZWxlY3RJdGVtKGxpLCBzZWxlY3RDb250YWluZXIpXG4gICAgICAgICAgc2VsZi5zYXZlKHNlbGVjdENvbnRhaW5lcilcbiAgICAgICAgICBzZWxmLl9fZmlyZVNlbGVjdGVkRXZlbnQoc2VsZWN0Q29udGFpbmVyKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIFxuICAgIHNlbGVjdENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS50YXJnZXQubWF0Y2hlcygnLnJlbW92ZScpKSB7XG4gICAgICAgIGUudGFyZ2V0LnBhcmVudE5vZGUucmVtb3ZlKCk7XG4gICAgICAgIHNlbGYuc2F2ZShzZWxlY3RDb250YWluZXIpXG4gICAgICAgIHNlbGYuX19maXJlU2VsZWN0ZWRFdmVudChzZWxlY3RDb250YWluZXIpXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdWxfc2VsZWN0b3IuY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuJykpIHtcbiAgICAgICAgc2VsZi5fX29wZW5Ecm9wRG93bihzZWxlY3RDb250YWluZXIpXG4gICAgICB9XG4gICAgICBsZXQgaW5wdXQgPSBzZWxlY3RDb250YWluZXIucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgIGlmIChpbnB1dCkge1xuICAgICAgICBpbnB1dC5mb2N1cygpXG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gIH0sXG4gIFxuICBfX29wZW5Ecm9wRG93bjogZnVuY3Rpb24oc2VsZWN0Q29udGFpbmVyLCBmb2N1cz10cnVlKSB7XG4gICAgaWYoZm9jdXMpe1xuICAgICAgbGV0IGlucHV0ID0gc2VsZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgICBsZXQgdWxfc2VsZWN0b3IgPSBzZWxlY3RDb250YWluZXIucXVlcnlTZWxlY3RvcigndWwuc2VsZWN0YWJsZS0tbGlzdCcpO1xuICAgICAgXG4gICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xuICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAodWxfc2VsZWN0b3IgJiYgdWxfc2VsZWN0b3IpIHtcbiAgICAgICAgdWxfc2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xuICAgICAgfVxuICAgICAgc2VsZWN0Q29udGFpbmVyLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdDb0NyZWF0ZVNlbGVjdC1vcGVuJykpO1xuICAgIH1cbiAgfSxcbiAgXG4gIF9fY2xvc2VEcm9wRG93bjogZnVuY3Rpb24oc2VsZWN0Q29udGFpbmVyKSB7XG4gICAgICBsZXQgaW5wdXQgPSBzZWxlY3RDb250YWluZXIucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgIGxldCB1bF9zZWxlY3RvciA9IHNlbGVjdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd1bC5zZWxlY3RhYmxlLS1saXN0Jyk7XG4gICAgICBpZiAoaW5wdXQgJiYgaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuJykpIHtcbiAgICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAodWxfc2VsZWN0b3IgJiYgdWxfc2VsZWN0b3IuY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuJykpIHtcbiAgICAgICAgdWxfc2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xuICAgICAgICBzZWxlY3RDb250YWluZXIuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ0NvQ3JlYXRlU2VsZWN0LWNsb3NlJykpO1xuICAgICAgfVxuICB9LFxuXG4gIHNldFZhbHVlOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IHNlbGVjdENvbnRhaW5lcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdjb2NyZWF0ZS1zZWxlY3QsLnNlbGVjdC0tZmllbGQnKTtcbiAgICBzZWxlY3RDb250YWluZXJzLmZvckVhY2goKHNlbGVjdEVsKSA9PiB7XG4gICAgICBjb25zdCBjb2xsZWN0aW9uID0gc2VsZWN0RWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKSB8fCAnbW9kdWxlX2FjdGl2aXR5JztcbiAgICAgIGNvbnN0IGlkID0gc2VsZWN0RWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRvY3VtZW50X2lkJyk7XG4gICAgICBjb25zdCBuYW1lID0gc2VsZWN0RWwuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgICBpZiAoZGF0YVsnY29sbGVjdGlvbiddID09IGNvbGxlY3Rpb24gJiYgZGF0YVsnZG9jdW1lbnRfaWQnXSA9PSBpZCAmJiBuYW1lKSB7XG4gICAgICAgIHNlbGYuX19yZW5kZXJWYWx1ZShzZWxlY3RFbCwgZGF0YVsnZGF0YSddW25hbWVdKTtcbiAgICAgIH0gXG4gICAgfSlcbiAgfSxcbiAgXG4gIHJlbmRlclZhbHVlOiBmdW5jdGlvbih0YXJnZXQsIHZhbHVlKSB7XG4gICAgdGhpcy5fX3JlbmRlclZhbHVlKHRhcmdldCwgdmFsdWUpO1xuICB9LCBcbiAgXG4gIF9fcmVuZGVyVmFsdWU6IGZ1bmN0aW9uKHNlbGVjdENvbnRhaW5lciwgdmFsdWVzKSB7XG4gICAgaWYgKCF2YWx1ZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHNlbGVjdGVkSXRlbXMgPSBzZWxlY3RDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnW3NlbGVjdGVkXScpO1xuICAgIHNlbGVjdGVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5yZW1vdmUoKSlcblxuICAgIGxldCB1bF9zZWxlY3RvciA9IHNlbGVjdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd1bC5zZWxlY3RhYmxlLS1saXN0Jyk7XG4gICAgaWYgKHZhbHVlcyAmJiB0eXBlb2YgdmFsdWVzID09PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWVzID0gW3ZhbHVlc107XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbSA9IHVsX3NlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoXCJsaVt2YWx1ZT0nXCIgKyB2YWx1ZXNbaV0gKyBcIiddXCIpO1xuICAgICAgaWYgKHNlbGVjdGVkSXRlbSl7XG4gICAgICAgIHRoaXMuX19zZWxlY3RJdGVtKHNlbGVjdGVkSXRlbSwgc2VsZWN0Q29udGFpbmVyLGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX19zZWxlY3RWYWx1ZSh2YWx1ZXNbaV0sIHNlbGVjdENvbnRhaW5lcixmYWxzZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaWYgKENvQ3JlYXRlRmxvYXRMYWJlbCkge1xuICAgICAgICBDb0NyZWF0ZUZsb2F0TGFiZWwudXBkYXRlKHNlbGVjdENvbnRhaW5lciwgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGggPiAwKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgXG4gICAgfVxuICB9LFxuICBcbiAgX19zZWxlY3RWYWx1ZTogZnVuY3Rpb24odmFsdWUsIHNlbGVjdENvbnRhaW5lcikge1xuICAgIGxldCBjdXJyZW50VmFsdWUgPSB0aGlzLmdldFZhbHVlKHNlbGVjdENvbnRhaW5lcik7XG4gICAgaWYgKGN1cnJlbnRWYWx1ZSA9PSB2YWx1ZSB8fCBjdXJyZW50VmFsdWUuaW5kZXhPZih2YWx1ZSkgPiAtMSkgcmV0dXJuO1xuICAgIFxuICAgIGxldCBzZWFyY2hJbnB1dCA9IHNlbGVjdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICAgIGxldCB1bF9zZWxlY3RvciA9IHNlbGVjdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd1bC5zZWxlY3RhYmxlLS1saXN0Jyk7XG4gICAgXG4gICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgc3Bhbi5pbm5lckhUTUw9J3gnO1xuICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgncmVtb3ZlJyk7XG4gICAgbGV0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICBsaS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgdmFsdWUpO1xuICAgIC8vIGxpLnNldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScsIHZhbHVlKTtcbiAgICBsaS5pbm5lckhUTUwgPSB2YWx1ZTtcblxuICAgIGxpLnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCBcIlwiKTtcbiAgICAvLyBsaS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIGxpLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGFibGUnKTtcbiAgICBsaS5hcHBlbmRDaGlsZChzcGFuKTtcblxuICAgIHNlbGVjdENvbnRhaW5lci5pbnNlcnRCZWZvcmUobGksIHNlYXJjaElucHV0ID8gc2VhcmNoSW5wdXQgOiB1bF9zZWxlY3Rvcik7XG5cbiAgfSxcbiAgXG4gIF9fc2VsZWN0SXRlbTogZnVuY3Rpb24obGksIHNlbGVjdENvbnRhaW5lciwgZm9jdXM9dHJ1ZSkge1xuICAgIGxldCB0eXBlID0gc2VsZWN0Q29udGFpbmVyLmhhc0F0dHJpYnV0ZSgnbXVsdGlwbGUnKSA/ICdtdWx0aXBsZScgOiAnc2luZ2xlJztcbiAgICBsZXQgc2VhcmNoSW5wdXQgPSBzZWxlY3RDb250YWluZXIucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICBsZXQgdWxfc2VsZWN0b3IgPSBzZWxlY3RDb250YWluZXIucXVlcnlTZWxlY3RvcigndWwuc2VsZWN0YWJsZS0tbGlzdCcpO1xuICAgIFxuICAgIGlmICh0eXBlID09ICdzaW5nbGUnKSB7XG4gICAgICBsZXQgc2VsZWN0ZWRJdGVtcyA9IHNlbGVjdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdbc2VsZWN0ZWRdJyk7XG4gICAgICBzZWxlY3RlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0ucmVtb3ZlKCkpXG4gICAgICBpZiAoc2VhcmNoSW5wdXQpIHtcbiAgICAgICAgc2VhcmNoSW5wdXQudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICB9IFxuICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHNwYW4uaW5uZXJIVE1MPSd4JztcbiAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ3JlbW92ZScpO1xuICAgIGxldCBzZWxlY3RlZEl0ZW0gPSBsaS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgXG4gICAgLy8gc2VsZWN0ZWRJdGVtLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgc2VsZWN0ZWRJdGVtLnNldEF0dHJpYnV0ZShcInNlbGVjdGVkXCIsIFwiXCIpO1xuICAgIHNlbGVjdGVkSXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RhYmxlJyk7XG4gICAgc2VsZWN0ZWRJdGVtLmFwcGVuZENoaWxkKHNwYW4pO1xuICAgIHNlbGVjdENvbnRhaW5lci5pbnNlcnRCZWZvcmUoc2VsZWN0ZWRJdGVtLCBzZWFyY2hJbnB1dCA/IHNlYXJjaElucHV0IDogdWxfc2VsZWN0b3IpO1xuICAgIFxuICAgIGlmICh0eXBlID09ICdzaW5nbGUnKSB7XG4gICAgICB0aGlzLl9fY2xvc2VEcm9wRG93bihzZWxlY3RDb250YWluZXIpO1xuICAgIH1cbiAgfSxcbiAgXG4gIGdldFZhbHVlOmZ1bmN0aW9uKG5vZGUpIHtcbiAgICBsZXQgdHlwZSA9IG5vZGUuaGFzQXR0cmlidXRlKCdtdWx0aXBsZScpID8gJ211bHRpcGxlJyA6J3NpbmdsZSdcbiAgICBsZXQgc2VsZWN0ZWRJdGVtcyA9IG5vZGUucXVlcnlTZWxlY3RvckFsbCgnW3NlbGVjdGVkXScpO1xuICAgIFxuICAgIGxldCB2YWx1ZSA9IFtdO1xuICAgIGlmIChzZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIHNlbGVjdGVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4gdmFsdWUucHVzaChpdGVtLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkpXG4gICAgfSBcbiAgICB2YWx1ZSA9ICh0eXBlID09PSAnbXVsdGlwbGUnKSA/IHZhbHVlIDogKHZhbHVlWzBdIHx8ICcnKVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcbiAgXG4gIHNhdmU6IGZ1bmN0aW9uKHNlbGVjdEVsKSB7XG4gICAgaWYgKCFzZWxlY3RFbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ0NvQ3JlYXRlU2VsZWN0LXNhdmUnLCB7XG4gICAgICBkZXRhaWw6IHtcbiAgICAgICAgZWxlbWVudDogc2VsZWN0RWwsXG4gICAgICB9XG4gICAgfSlcbiAgICBcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfSxcbiAgXG4gIF9fZmlyZVNlbGVjdGVkRXZlbnQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdzZWxlY3RlZFZhbHVlJykpO1xuICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2lucHV0Jyx7IGJ1YmJsZXM6IHRydWV9KSk7XG4gICAgbGV0IHZhbHVlID0gdGhpcy5nZXRWYWx1ZShlbGVtZW50KVxuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdDb0NyZWF0ZS1zZWxlY3RlZCcsIHtcbiAgICAgIGRldGFpbDoge1xuICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH1cbiAgICB9KSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29DcmVhdGVTZWxlY3Q7XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../CoCreate-select/src/select.js\n")},"../../CoCreateJS/src/common-fun.js":(__unused_webpack_module,exports)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.getCommonParams = getCommonParams;\nexports.getCommonParamsExtend = getCommonParamsExtend;\nexports.generateSocketClient = generateSocketClient;\n\nfunction getCommonParams() {\n  return {\n    "apiKey": config.apiKey,\n    "securityKey": config.securityKey,\n    "organization_id": config.organization_Id\n  };\n}\n\nfunction getCommonParamsExtend(info) {\n  return {\n    "apiKey": info.apiKey || config.apiKey,\n    "securityKey": info.securityKey || config.securityKey,\n    "organization_id": info.organization_id || config.organization_Id\n  };\n}\n\nfunction generateSocketClient(namespace, room) {\n  let ns = namespace || config.organization_Id;\n  let rr = room || \'\';\n\n  if (rr) {\n    return `${ns}/${rr}`;\n  } else {\n    return ns;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mbG9hdGluZ0xhYmVsLy4uL0NvQ3JlYXRlSlMvc3JjL2NvbW1vbi1mdW4uanM/Yjg5ZiJdLCJuYW1lcyI6WyJnZXRDb21tb25QYXJhbXMiLCJjb25maWciLCJhcGlLZXkiLCJzZWN1cml0eUtleSIsIm9yZ2FuaXphdGlvbl9JZCIsImdldENvbW1vblBhcmFtc0V4dGVuZCIsImluZm8iLCJvcmdhbml6YXRpb25faWQiLCJnZW5lcmF0ZVNvY2tldENsaWVudCIsIm5hbWVzcGFjZSIsInJvb20iLCJucyIsInJyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxTQUFTQSxlQUFULEdBQ0E7QUFDRSxTQUFPO0FBQ0wsY0FBb0JDLE1BQU0sQ0FBQ0MsTUFEdEI7QUFFTCxtQkFBb0JELE1BQU0sQ0FBQ0UsV0FGdEI7QUFHTCx1QkFBb0JGLE1BQU0sQ0FBQ0c7QUFIdEIsR0FBUDtBQUtEOztBQUVELFNBQVNDLHFCQUFULENBQStCQyxJQUEvQixFQUNBO0FBQ0UsU0FBTztBQUNMLGNBQW9CQSxJQUFJLENBQUNKLE1BQUwsSUFBZUQsTUFBTSxDQUFDQyxNQURyQztBQUVMLG1CQUFvQkksSUFBSSxDQUFDSCxXQUFMLElBQW9CRixNQUFNLENBQUNFLFdBRjFDO0FBR0wsdUJBQW9CRyxJQUFJLENBQUNDLGVBQUwsSUFBd0JOLE1BQU0sQ0FBQ0c7QUFIOUMsR0FBUDtBQUtEOztBQUVELFNBQVNJLG9CQUFULENBQStCQyxTQUEvQixFQUEwQ0MsSUFBMUMsRUFDQTtBQUNFLE1BQUlDLEVBQUUsR0FBR0YsU0FBUyxJQUFJUixNQUFNLENBQUNHLGVBQTdCO0FBQ0EsTUFBSVEsRUFBRSxHQUFHRixJQUFJLElBQUksRUFBakI7O0FBQ0EsTUFBSUUsRUFBSixFQUFRO0FBQ04sV0FBUSxHQUFFRCxFQUFHLElBQUdDLEVBQUcsRUFBbkI7QUFDRCxHQUZELE1BRU87QUFDTCxXQUFPRCxFQUFQO0FBQ0Q7QUFDRiIsImZpbGUiOiIuLi8uLi9Db0NyZWF0ZUpTL3NyYy9jb21tb24tZnVuLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZ2V0Q29tbW9uUGFyYW1zKCkgXG57XG4gIHJldHVybiB7XG4gICAgXCJhcGlLZXlcIjogICAgICAgICAgIGNvbmZpZy5hcGlLZXksXG4gICAgXCJzZWN1cml0eUtleVwiOiAgICAgIGNvbmZpZy5zZWN1cml0eUtleSxcbiAgICBcIm9yZ2FuaXphdGlvbl9pZFwiOiAgY29uZmlnLm9yZ2FuaXphdGlvbl9JZCxcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRDb21tb25QYXJhbXNFeHRlbmQoaW5mbykgXG57XG4gIHJldHVybiB7XG4gICAgXCJhcGlLZXlcIjogICAgICAgICAgIGluZm8uYXBpS2V5IHx8IGNvbmZpZy5hcGlLZXksXG4gICAgXCJzZWN1cml0eUtleVwiOiAgICAgIGluZm8uc2VjdXJpdHlLZXkgfHwgY29uZmlnLnNlY3VyaXR5S2V5LFxuICAgIFwib3JnYW5pemF0aW9uX2lkXCI6ICBpbmZvLm9yZ2FuaXphdGlvbl9pZCB8fCBjb25maWcub3JnYW5pemF0aW9uX0lkLFxuICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU29ja2V0Q2xpZW50IChuYW1lc3BhY2UsIHJvb20pIFxue1xuICBsZXQgbnMgPSBuYW1lc3BhY2UgfHwgY29uZmlnLm9yZ2FuaXphdGlvbl9JZFxuICBsZXQgcnIgPSByb29tIHx8ICcnO1xuICBpZiAocnIpIHtcbiAgICByZXR1cm4gYCR7bnN9LyR7cnJ9YFxuICB9IGVsc2Uge1xuICAgIHJldHVybiBucztcbiAgfVxufVxuXG5leHBvcnQge2dldENvbW1vblBhcmFtcywgZ2V0Q29tbW9uUGFyYW1zRXh0ZW5kLCBnZW5lcmF0ZVNvY2tldENsaWVudH07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreateJS/src/common-fun.js\n')},"../../CoCreateJS/src/core.js":(__unused_webpack_module,exports)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = core;\n// ***********   define variables end ***************** /// \nconst CoCreateCore = {\n  socketInitFuncs: [],\n  moduleSelectors: [],\n  socket: null,\n  host: 'server.cocreate.app',\n  setSocket: function (socket) {\n    this.socket = socket;\n  },\n  init: function (host, namespace) {\n    if (host) {\n      this.host = host;\n    }\n\n    this.__setConfig();\n\n    this.createGeneralSocket(host, namespace || config.organization_Id);\n    this.initSocketListener();\n    this.createUserSocket(host);\n  },\n  __setConfig: function () {\n    let orgId = window.localStorage.getItem('organization_id');\n    let securityKey = window.localStorage.getItem('securityKey');\n    let apiKey = window.localStorage.getItem('apiKey');\n    if (orgId) config['organization_Id'] = orgId;\n    if (apiKey) config['apiKey'] = apiKey;\n    if (securityKey) config['securityKey'] = securityKey;\n  },\n  initSocketListener: function () {\n    const self = this;\n    this.socket.listen('connect', function (data, room) {\n      if (room == self.socket.getGlobalScope()) {\n        self.socketInitFuncs.forEach(func => {\n          func.initFunc.call(func.instance);\n        });\n      }\n    });\n    this.socket.listen('readDocument', function (data) {\n      const metadata = data.metadata; // if (metadata && metadata.type == 'crdt') {\n      //   self.initRenderCrdtData(data);\n      // } else {\n      //   // self.renderModules(data)\n      // }\n\n      return data;\n    });\n    this.socket.listen('updateDocument', function (data) {// self.renderModules(data)\n    });\n    this.socket.listen('deletedDocument', function (data) {\n      console.log(data);\n    });\n    this.socket.listen('sendMessage', function (data) {\n      console.log(data);\n    });\n    this.listenMessage('downloadFileInfo', function (data) {\n      self.socket.saveFileName = data.file_name;\n    });\n  },\n  createUserSocket: function (host) {\n    var user_id = window.localStorage.getItem('user_id');\n\n    if (user_id) {\n      this.socket.create({\n        namespace: 'users',\n        room: user_id,\n        host: host\n      });\n    }\n  },\n  createGeneralSocket: function (host, namespace) {\n    if (namespace) {\n      this.socket.create({\n        namespace: namespace,\n        room: null,\n        host: host\n      });\n      this.socket.setGlobalScope(namespace);\n    } else {\n      this.socket.create({\n        namespace: null,\n        room: null,\n        host: host\n      });\n    }\n  },\n  registerInit: function (initFunc, instance) {\n    this.socketInitFuncs.push({\n      initFunc,\n      instance: instance || window\n    });\n  },\n  // registerSelector: function(selector) {\n  //   if (this.moduleSelectors.indexOf(selector) === -1) {\n  //     this.moduleSelectors.push(selector);\n  //   }\n  // },\n  // getSelectors: function(selector) {\n  //   return this.moduleSelectors.join(\",\");\n  // },\n  listenMessage: function (message, fun) {\n    this.socket.listen(message, fun);\n  },\n  createSocket: function (config) {\n    this.socket.create(config);\n  },\n  destroySocket: function (config) {\n    const {\n      namespace,\n      room\n    } = config;\n    const key = this.socket.getKey(namespace, room);\n    let socket = this.socket.sockets.get(key);\n\n    if (!socket) {\n      return;\n    }\n\n    this.socket.destroy(socket, key);\n  }\n};\n\nfunction core(socket) {\n  CoCreateCore.setSocket(socket);\n  return CoCreateCore;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mbG9hdGluZ0xhYmVsLy4uL0NvQ3JlYXRlSlMvc3JjL2NvcmUuanM/Y2QxYSJdLCJuYW1lcyI6WyJDb0NyZWF0ZUNvcmUiLCJzb2NrZXRJbml0RnVuY3MiLCJtb2R1bGVTZWxlY3RvcnMiLCJzb2NrZXQiLCJob3N0Iiwic2V0U29ja2V0IiwiaW5pdCIsIm5hbWVzcGFjZSIsIl9fc2V0Q29uZmlnIiwiY3JlYXRlR2VuZXJhbFNvY2tldCIsImNvbmZpZyIsIm9yZ2FuaXphdGlvbl9JZCIsImluaXRTb2NrZXRMaXN0ZW5lciIsImNyZWF0ZVVzZXJTb2NrZXQiLCJvcmdJZCIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZWN1cml0eUtleSIsImFwaUtleSIsInNlbGYiLCJsaXN0ZW4iLCJkYXRhIiwicm9vbSIsImdldEdsb2JhbFNjb3BlIiwiZm9yRWFjaCIsImZ1bmMiLCJpbml0RnVuYyIsImNhbGwiLCJpbnN0YW5jZSIsIm1ldGFkYXRhIiwiY29uc29sZSIsImxvZyIsImxpc3Rlbk1lc3NhZ2UiLCJzYXZlRmlsZU5hbWUiLCJmaWxlX25hbWUiLCJ1c2VyX2lkIiwiY3JlYXRlIiwic2V0R2xvYmFsU2NvcGUiLCJyZWdpc3RlckluaXQiLCJwdXNoIiwibWVzc2FnZSIsImZ1biIsImNyZWF0ZVNvY2tldCIsImRlc3Ryb3lTb2NrZXQiLCJrZXkiLCJnZXRLZXkiLCJzb2NrZXRzIiwiZ2V0IiwiZGVzdHJveSIsImNvcmUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBRUEsTUFBTUEsWUFBWSxHQUFHO0FBQ25CQyxpQkFBZSxFQUFFLEVBREU7QUFFbkJDLGlCQUFlLEVBQUUsRUFGRTtBQUduQkMsUUFBTSxFQUFFLElBSFc7QUFJbkJDLE1BQUksRUFBRSxxQkFKYTtBQU1uQkMsV0FBUyxFQUFFLFVBQVNGLE1BQVQsRUFBaUI7QUFDMUIsU0FBS0EsTUFBTCxHQUFjQSxNQUFkO0FBQ0QsR0FSa0I7QUFXbkJHLE1B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LEtBQUsxQyxNQUFMLENBQVkyQyxNQUFaLENBQW1CdkMsU0FBbkIsRUFBOEJnQixJQUE5QixDQUFaO0FBQ0EsUUFBSXBCLE1BQU0sR0FBRyxLQUFLQSxNQUFMLENBQVk0QyxPQUFaLENBQW9CQyxHQUFwQixDQUF3QkgsR0FBeEIsQ0FBYjs7QUFFQSxRQUFJLENBQUMxQyxNQUFMLEVBQWE7QUFDWDtBQUNEOztBQUNELFNBQUtBLE1BQUwsQ0FBWThDLE9BQVosQ0FBb0I5QyxNQUFwQixFQUE0QjBDLEdBQTVCO0FBQ0Q7QUFySW1CLENBQXJCOztBQXdJZSxTQUFTSyxJQUFULENBQWMvQyxNQUFkLEVBQXNCO0FBQ25DSCxjQUFZLENBQUNLLFNBQWIsQ0FBdUJGLE1BQXZCO0FBQ0EsU0FBT0gsWUFBUDtBQUNEIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlSlMvc3JjL2NvcmUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAqKioqKioqKioqKiAgIGRlZmluZSB2YXJpYWJsZXMgZW5kICoqKioqKioqKioqKioqKioqIC8vLyBcblxuY29uc3QgQ29DcmVhdGVDb3JlID0ge1xuICBzb2NrZXRJbml0RnVuY3M6IFtdLFxuICBtb2R1bGVTZWxlY3RvcnM6IFtdLFxuICBzb2NrZXQ6IG51bGwsXG4gIGhvc3Q6ICdzZXJ2ZXIuY29jcmVhdGUuYXBwJyxcbiAgXG4gIHNldFNvY2tldDogZnVuY3Rpb24oc29ja2V0KSB7XG4gICAgdGhpcy5zb2NrZXQgPSBzb2NrZXQ7XG4gIH0sXG5cbiAgXG4gIGluaXQ6IGZ1bmN0aW9uKGhvc3QsIG5hbWVzcGFjZSkge1xuICAgIGlmIChob3N0KSB7XG4gICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgIH1cbiAgICBcbiAgICB0aGlzLl9fc2V0Q29uZmlnKClcbiAgICB0aGlzLmNyZWF0ZUdlbmVyYWxTb2NrZXQoaG9zdCwgbmFtZXNwYWNlIHx8IGNvbmZpZy5vcmdhbml6YXRpb25fSWQpO1xuICAgIHRoaXMuaW5pdFNvY2tldExpc3RlbmVyKCk7XG4gICAgdGhpcy5jcmVhdGVVc2VyU29ja2V0KGhvc3QpO1xuICB9LFxuICBcbiAgX19zZXRDb25maWc6IGZ1bmN0aW9uKCkge1xuXHRcdGxldCBvcmdJZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnb3JnYW5pemF0aW9uX2lkJyk7XG5cdFx0bGV0IHNlY3VyaXR5S2V5ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWN1cml0eUtleScpO1xuXHRcdGxldCBhcGlLZXkgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FwaUtleScpO1xuXHRcdFxuXHRcdGlmIChvcmdJZCkgICAgICAgIGNvbmZpZ1snb3JnYW5pemF0aW9uX0lkJ10gPSBvcmdJZFxuXHRcdGlmIChhcGlLZXkpICAgICAgIGNvbmZpZ1snYXBpS2V5J10gPSBhcGlLZXlcblx0XHRpZiAoc2VjdXJpdHlLZXkpICBjb25maWdbJ3NlY3VyaXR5S2V5J10gPSBzZWN1cml0eUtleTtcbiAgfSxcbiAgXG4gIGluaXRTb2NrZXRMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgXG4gICAgdGhpcy5zb2NrZXQubGlzdGVuKCdjb25uZWN0JywgZnVuY3Rpb24gKGRhdGEsIHJvb20pIHtcbiAgICAgIFxuICAgICAgaWYgKHJvb20gPT0gc2VsZi5zb2NrZXQuZ2V0R2xvYmFsU2NvcGUoKSkge1xuICAgICAgICBzZWxmLnNvY2tldEluaXRGdW5jcy5mb3JFYWNoKChmdW5jKSA9PiB7XG4gICAgICAgICAgZnVuYy5pbml0RnVuYy5jYWxsKGZ1bmMuaW5zdGFuY2UpO1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gICAgXG4gICAgdGhpcy5zb2NrZXQubGlzdGVuKCdyZWFkRG9jdW1lbnQnLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgIGNvbnN0IG1ldGFkYXRhID0gZGF0YS5tZXRhZGF0YTtcbiAgICAgIC8vIGlmIChtZXRhZGF0YSAmJiBtZXRhZGF0YS50eXBlID09ICdjcmR0Jykge1xuICAgICAgLy8gICBzZWxmLmluaXRSZW5kZXJDcmR0RGF0YShkYXRhKTtcbiAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAvLyAgIC8vIHNlbGYucmVuZGVyTW9kdWxlcyhkYXRhKVxuICAgICAgLy8gfVxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSlcbiAgICBcbiAgICB0aGlzLnNvY2tldC5saXN0ZW4oJ3VwZGF0ZURvY3VtZW50JywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgLy8gc2VsZi5yZW5kZXJNb2R1bGVzKGRhdGEpXG4gICAgfSlcbiAgICBcbiAgICB0aGlzLnNvY2tldC5saXN0ZW4oJ2RlbGV0ZWREb2N1bWVudCcsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgIH0pXG4gICAgXG4gICAgdGhpcy5zb2NrZXQubGlzdGVuKCdzZW5kTWVzc2FnZScsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgIH0pXG4gICAgXG4gICAgdGhpcy5saXN0ZW5NZXNzYWdlKCdkb3dubG9hZEZpbGVJbmZvJywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgc2VsZi5zb2NrZXQuc2F2ZUZpbGVOYW1lID0gZGF0YS5maWxlX25hbWU7XG4gICAgfSlcbiAgICBcbiAgfSxcbiAgXG4gIGNyZWF0ZVVzZXJTb2NrZXQ6IGZ1bmN0aW9uKGhvc3QpIHtcbiAgICB2YXIgdXNlcl9pZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pZCcpO1xuICAgIGlmICh1c2VyX2lkKSB7XG4gICAgICB0aGlzLnNvY2tldC5jcmVhdGUoe1xuICAgICAgICBuYW1lc3BhY2U6ICd1c2VycycsXG4gICAgICAgIHJvb206IHVzZXJfaWQsXG4gICAgICAgIGhvc3Q6IGhvc3RcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuICBcbiAgY3JlYXRlR2VuZXJhbFNvY2tldDogZnVuY3Rpb24oaG9zdCwgbmFtZXNwYWNlKSB7XG4gICAgaWYgKG5hbWVzcGFjZSkge1xuICAgIFx0dGhpcy5zb2NrZXQuY3JlYXRlKHtcbiAgICBcdCAgbmFtZXNwYWNlOiBuYW1lc3BhY2UsIFxuICAgIFx0ICByb29tOiBudWxsLFxuICAgIFx0ICBob3N0OiBob3N0XG4gICAgXHR9KTtcbiAgICBcdHRoaXMuc29ja2V0LnNldEdsb2JhbFNjb3BlKG5hbWVzcGFjZSk7XG4gICAgfSBlbHNlIHtcbiAgICBcdHRoaXMuc29ja2V0LmNyZWF0ZSh7XG4gICAgXHQgIG5hbWVzcGFjZTogbnVsbCwgXG4gICAgXHQgIHJvb206IG51bGwsXG4gICAgXHQgIGhvc3Q6IGhvc3RcbiAgICBcdH0pO1xuICAgIH1cbiAgfSxcbiAgXG4gIHJlZ2lzdGVySW5pdDogZnVuY3Rpb24oaW5pdEZ1bmMsIGluc3RhbmNlKSB7XG4gICAgdGhpcy5zb2NrZXRJbml0RnVuY3MucHVzaCh7XG4gICAgICBpbml0RnVuYyxcbiAgICAgIGluc3RhbmNlIDogaW5zdGFuY2UgfHwgd2luZG93XG4gICAgfSk7XG4gIH0sXG4gIC8vIHJlZ2lzdGVyU2VsZWN0b3I6IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gIC8vICAgaWYgKHRoaXMubW9kdWxlU2VsZWN0b3JzLmluZGV4T2Yoc2VsZWN0b3IpID09PSAtMSkge1xuICAvLyAgICAgdGhpcy5tb2R1bGVTZWxlY3RvcnMucHVzaChzZWxlY3Rvcik7XG4gIC8vICAgfVxuICAvLyB9LFxuICBcbiAgLy8gZ2V0U2VsZWN0b3JzOiBmdW5jdGlvbihzZWxlY3Rvcikge1xuICAvLyAgIHJldHVybiB0aGlzLm1vZHVsZVNlbGVjdG9ycy5qb2luKFwiLFwiKTtcbiAgLy8gfSxcblxuICBsaXN0ZW5NZXNzYWdlOiBmdW5jdGlvbihtZXNzYWdlLCBmdW4pIHtcbiAgICB0aGlzLnNvY2tldC5saXN0ZW4obWVzc2FnZSwgZnVuKTtcbiAgfSxcbiBcbiBjcmVhdGVTb2NrZXQ6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgdGhpcy5zb2NrZXQuY3JlYXRlKGNvbmZpZyk7XG4gfSxcbiBcbiBkZXN0cm95U29ja2V0OiBmdW5jdGlvbihjb25maWcpIHtcbiAgIGNvbnN0IHtuYW1lc3BhY2UsIHJvb219ID0gY29uZmlnO1xuICAgY29uc3Qga2V5ID0gdGhpcy5zb2NrZXQuZ2V0S2V5KG5hbWVzcGFjZSwgcm9vbSk7XG4gICBsZXQgc29ja2V0ID0gdGhpcy5zb2NrZXQuc29ja2V0cy5nZXQoa2V5KTtcbiAgIFxuICAgaWYgKCFzb2NrZXQpIHtcbiAgICAgcmV0dXJuXG4gICB9XG4gICB0aGlzLnNvY2tldC5kZXN0cm95KHNvY2tldCwga2V5KTtcbiB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb3JlKHNvY2tldCkge1xuICBDb0NyZWF0ZUNvcmUuc2V0U29ja2V0KHNvY2tldCk7XG4gIHJldHVybiBDb0NyZWF0ZUNvcmU7XG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreateJS/src/core.js\n")},"../../CoCreateJS/src/crud.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = CRUD;\n\nvar _commonFun = __webpack_require__(/*! ./common-fun.js */ \"../../CoCreateJS/src/common-fun.js\");\n\n// ***********   define variables end ***************** /// \nconst CoCreateCRUD = {\n  socket: null,\n  setSocket: function (socket) {\n    this.socket = socket;\n  },\n\n  /*\n   \n    CoCreate.crud.readDcoumentList {\n      collection: \"modules\",\n      element: \"xxxx\",\n      metadata: \"\",\n      operator: {\n        fetch: {\n          name: 'xxxx',\n          value: 'xxxxx'\n        },\n        filters: [{\n          name: 'field1',\n          operator: \"contain | range | eq | ne | lt | lte | gt | gte | in | nin\",\n          value: [v1, v2, ...]\n        }, {\n          name: \"_id\",\n          opreator: \"in\",\n          value: [\"id1\"]\n        }, {\n          ....\n        }],\n        orders: [{\n          name: 'field-x',\n          type: 1 | -1\n        }],\n        search: {\n          type: 'or | and',\n          value: [value1, value2]\n        },\n        \n        startIndex: 0 (integer),\n        count: 0 (integer)\n      },\n      \n      is_collection: true | false,\n      //. case fetch document case\n      created_ids : [id1, id2, ...],\n      \n      \n      -------- additional response data -----------\n      data: [] // array\n    }\n  */\n  readDocumentList(info) {\n    if (!info) return;\n    let request_data = (0, _commonFun.getCommonParams)();\n\n    if (!info.collection || !info.operator) {\n      return;\n    }\n\n    request_data = { ...request_data,\n      ...info\n    };\n    this.socket.send('readDocumentList', request_data);\n  },\n\n  /*\n  CoCreate.crud.createDocument({\n    namespace:'',\n    room:'',\n    broadcast: true/false, (default=ture)\n    broadcast_sender: true/false, (default=true) \n    \n    collection: \"test123\",\n    data:{\n    \tname1:hello,\n    \tname2:  hello1\n    },\n    element: xxxx,\n    metaData: \"xxxx\"\n  }),\n  */\n  // data param needs organization_id field added to pass security check\n  createDocument: function (info) {\n    if (info === null) {\n      return;\n    }\n\n    let request_data = (0, _commonFun.getCommonParams)();\n    request_data['collection'] = info['collection'] || 'module_activities';\n    let data = info.data || {};\n\n    if (!data['organization_id']) {\n      data['organization_id'] = config.organization_Id;\n    }\n\n    if (info['data']) {\n      data = { ...data,\n        ...info['data']\n      };\n    }\n\n    request_data['data'] = data;\n\n    if (info['metadata']) {\n      request_data['metadata'] = info['metadata'];\n    }\n\n    request_data['element'] = info['element'];\n    /** socket parameters **/\n    // if (info['broadcast'] === undefined) {\n    //   request_data['broadcast'] = true;\n    // }\n    // if (info['broadcast_sender'] === undefined) {\n    //   request_data['broadcast_sender'] = true;\n    // }\n\n    const room = (0, _commonFun.generateSocketClient)(info.namespace, info.room);\n    this.socket.send('createDocument', request_data, room);\n  },\n\n  /*\n  CoCreate.crud.updateDocument({\n    namespace: '',\n    room: '',\n    broadcast: true/false,\n    broadcast_sender: true/false,\n    \n    collection: \"test123\",\n    document_id: \"document_id\",\n    data:{\n    \tname1:hello,\n    \tname2:  hello1\n    },\n    delete_fields:[\"name3\", \"name4\"],\n    element: xxxx,\n    metaData: \"xxxx\"\n  }),\n  */\n  updateDocument: function (info) {\n    if (!info || !info['document_id']) return;\n    let request_data = (0, _commonFun.getCommonParamsExtend)(info);\n    request_data['collection'] = info['collection'] || 'module_activities';\n    request_data['document_id'] = info['document_id'];\n    if (typeof info['data'] === 'object') request_data['set'] = info['data'];\n    if (Array.isArray(info['delete_fields'])) request_data['unset'] = info['delete_fields'];\n    if (!request_data['set'] && !request_data['unset']) return;\n    request_data['element'] = info['element'];\n    request_data['metadata'] = info['metadata'];\n\n    if (info.upsert) {\n      request_data['upsert'] = true;\n    }\n\n    if (info.broadcast === false) {\n      request_data['broadcast'] = false;\n    }\n    /** socket parameters **/\n    // if (info['broadcast'] === undefined) {\n    //   request_data['broadcast'] = true;\n    // }\n\n\n    request_data['broadcast_sender'] = info.broadcast_sender;\n\n    if (info['broadcast_sender'] === undefined) {\n      request_data['broadcast_sender'] = true;\n    }\n\n    const room = (0, _commonFun.generateSocketClient)(info.namespace, info.room);\n    this.socket.send('updateDocument', request_data, room);\n  },\n\n  /*\n  CoCreate.crud.readDocument({\n    collection: \"test123\",\n    document_id: \"document_id\",\n    element: xxxx,\n    metaData: \"xxxx\",\n    exclude_fields: [] \n  }),\n  */\n  readDocument: function (info) {\n    if (info === null) {\n      return;\n    }\n\n    if (!info['document_id'] || !info) {\n      return;\n    }\n\n    let request_data = (0, _commonFun.getCommonParams)();\n    request_data['collection'] = info['collection'];\n    request_data['document_id'] = info['document_id'];\n\n    if (info['exclude_fields']) {\n      request_data['exclude_fields'] = info['exclude_fields'];\n    }\n\n    if (info['element']) {\n      request_data['element'] = info['element'];\n    }\n\n    request_data['metadata'] = info['metadata'];\n    this.socket.send('readDocument', request_data);\n  },\n\n  /*\n  CoCreate.crud.deleteDocument({\n    namespace: '',\n    room: '',\n    broadcast: true/false,\n    broadcast_sender: true/false,\n    \n    collection: \"module\",\n    document_id: \"\",\n    element: xxxx,\n    metadata: \"xxxx\"\n  }),\n  */\n  deleteDocument: function (info) {\n    if (!info['document_id'] || !info) {\n      return;\n    }\n\n    let request_data = (0, _commonFun.getCommonParams)();\n    request_data['collection'] = info['collection'];\n    request_data['document_id'] = info['document_id'];\n\n    if (info['element']) {\n      request_data['element'] = info['element'];\n    }\n\n    request_data['metadata'] = info['metadata'];\n    /** socket parameters **/\n    // if (info['broadcast'] === undefined) {\n    //   request_data['broadcast'] = true;\n    // }\n    // if (info['broadcast_sender'] === undefined) {\n    //   request_data['broadcast_sender'] = true;\n    // }\n\n    const room = (0, _commonFun.generateSocketClient)(info.namespace, info.room);\n    this.socket.send('deleteDocument', request_data, room);\n  },\n\n  /** export / import db functions **/\n\n  /*\n  readDocument({\n   collection: \"test123\",\n   element: xxxx,\n   metaData: \"xxxx\",\n  }),\n  */\n  exportCollection: function (info) {\n    if (info === null) {\n      return;\n    }\n\n    let request_data = (0, _commonFun.getCommonParams)();\n    request_data['collection'] = info['collection'];\n    request_data['export_type'] = info['export_type'];\n    request_data['metadata'] = info['metadata'];\n    this.socket.send('exportDB', request_data);\n  },\n\n  /*\n  readDocument({\n    collection: \"test123\",\n    file: file\n  }),\n  */\n  importCollection: function (info) {\n    const {\n      file\n    } = info;\n\n    if (info === null || !(file instanceof File)) {\n      return;\n    }\n\n    const extension = file.name.split(\".\").pop();\n\n    if (!['json', 'csv'].some(item => item === extension)) {\n      return;\n    }\n\n    let request_data = (0, _commonFun.getCommonParams)();\n    request_data['collection'] = info['collection'];\n    request_data['import_type'] = extension;\n    this.socket.send('importDB', request_data);\n    this.socket.sendFile(file);\n  },\n  //. message listener\n  listenMessage: function (message, fun) {\n    this.socket.listen(message, fun);\n  },\n  listenerReadDocument: function (fun) {\n    this.socket.listen(\"readDocument\", fun);\n  },\n  listenerCreateDocument: function (fun) {\n    this.socket.listen(\"createDocument\", fun);\n  },\n  listenerDeleteDocument: function (fun) {\n    this.socket.listen(\"deleteDocument\", fun);\n  },\n  listenerUpdateDocument: function (fun) {\n    this.socket.listen(\"updateDocument\", fun);\n  },\n  listenerReadDocumentList: function (fun) {\n    this.socket.listen(\"readDocumentList\", fun);\n  }\n};\n\nfunction CRUD(socket) {\n  CoCreateCRUD.setSocket(socket);\n  return CoCreateCRUD;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mbG9hdGluZ0xhYmVsLy4uL0NvQ3JlYXRlSlMvc3JjL2NydWQuanM/ODIxOSJdLCJuYW1lcyI6WyJDb0NyZWF0ZUNSVUQiLCJzb2NrZXQiLCJzZXRTb2NrZXQiLCJyZWFkRG9jdW1lbnRMaXN0IiwiaW5mbyIsInJlcXVlc3RfZGF0YSIsImNvbGxlY3Rpb24iLCJvcGVyYXRvciIsInNlbmQiLCJjcmVhdGVEb2N1bWVudCIsImRhdGEiLCJjb25maWciLCJvcmdhbml6YXRpb25fSWQiLCJyb29tIiwibmFtZXNwYWNlIiwidXBkYXRlRG9jdW1lbnQiLCJBcnJheSIsImlzQXJyYXkiLCJ1cHNlcnQiLCJicm9hZGNhc3QiLCJicm9hZGNhc3Rfc2VuZGVyIiwidW5kZWZpbmVkIiwicmVhZERvY3VtZW50IiwiZGVsZXRlRG9jdW1lbnQiLCJleHBvcnRDb2xsZWN0aW9uIiwiaW1wb3J0Q29sbGVjdGlvbiIsImZpbGUiLCJGaWxlIiwiZXh0ZW5zaW9uIiwibmFtZSIsInNwbGl0IiwicG9wIiwic29tZSIsIml0ZW0iLCJzZW5kRmlsZSIsImxpc3Rlbk1lc3NhZ2UiLCJtZXNzYWdlIiwiZnVuIiwibGlzdGVuIiwibGlzdGVuZXJSZWFkRG9jdW1lbnQiLCJsaXN0ZW5lckNyZWF0ZURvY3VtZW50IiwibGlzdGVuZXJEZWxldGVEb2N1bWVudCIsImxpc3RlbmVyVXBkYXRlRG9jdW1lbnQiLCJsaXN0ZW5lclJlYWREb2N1bWVudExpc3QiLCJDUlVEIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7O0FBRkE7QUFJQSxNQUFNQSxZQUFZLEdBQUc7QUFFbkJDLFFBQU0sRUFBRSxJQUZXO0FBR25CQyxXQUFTLEVBQUUsVUFBU0QsTUFBVCxFQUFpQjtBQUMxQixTQUFLQSxNQUFMLEdBQWNBLE1BQWQ7QUFDRCxHQUxrQjs7QUFNbkI7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QkFBbkIsRUFBcUNELEdBQXJDO0FBQ0QsR0F6VGtCO0FBMFRuQk0sMEJBQXdCLEVBQUUsVUFBU04sR0FBVCxFQUFjO0FBQ3RDLFNBQUtwQyxNQUFMLENBQVlxQyxNQUFaLENBQW1CLGtCQUFuQixFQUF1Q0QsR0FBdkM7QUFDRDtBQTVUa0IsQ0FBckI7O0FBK1RlLFNBQVNPLElBQVQsQ0FBYzNDLE1BQWQsRUFBc0I7QUFDbkNELGNBQVksQ0FBQ0UsU0FBYixDQUF1QkQsTUFBdkI7QUFDQSxTQUFPRCxZQUFQO0FBQ0QiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGVKUy9zcmMvY3J1ZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vICoqKioqKioqKioqICAgZGVmaW5lIHZhcmlhYmxlcyBlbmQgKioqKioqKioqKioqKioqKiogLy8vIFxuXG5pbXBvcnQge2dldENvbW1vblBhcmFtcywgZ2V0Q29tbW9uUGFyYW1zRXh0ZW5kLCBnZW5lcmF0ZVNvY2tldENsaWVudH0gZnJvbSBcIi4vY29tbW9uLWZ1bi5qc1wiXG5cbmNvbnN0IENvQ3JlYXRlQ1JVRCA9IHtcblxuICBzb2NrZXQ6IG51bGwsXG4gIHNldFNvY2tldDogZnVuY3Rpb24oc29ja2V0KSB7XG4gICAgdGhpcy5zb2NrZXQgPSBzb2NrZXQ7XG4gIH0sXG4gIC8qXG4gICBcbiAgICBDb0NyZWF0ZS5jcnVkLnJlYWREY291bWVudExpc3Qge1xuICAgICAgY29sbGVjdGlvbjogXCJtb2R1bGVzXCIsXG4gICAgICBlbGVtZW50OiBcInh4eHhcIixcbiAgICAgIG1ldGFkYXRhOiBcIlwiLFxuICAgICAgb3BlcmF0b3I6IHtcbiAgICAgICAgZmV0Y2g6IHtcbiAgICAgICAgICBuYW1lOiAneHh4eCcsXG4gICAgICAgICAgdmFsdWU6ICd4eHh4eCdcbiAgICAgICAgfSxcbiAgICAgICAgZmlsdGVyczogW3tcbiAgICAgICAgICBuYW1lOiAnZmllbGQxJyxcbiAgICAgICAgICBvcGVyYXRvcjogXCJjb250YWluIHwgcmFuZ2UgfCBlcSB8IG5lIHwgbHQgfCBsdGUgfCBndCB8IGd0ZSB8IGluIHwgbmluXCIsXG4gICAgICAgICAgdmFsdWU6IFt2MSwgdjIsIC4uLl1cbiAgICAgICAgfSwge1xuICAgICAgICAgIG5hbWU6IFwiX2lkXCIsXG4gICAgICAgICAgb3ByZWF0b3I6IFwiaW5cIixcbiAgICAgICAgICB2YWx1ZTogW1wiaWQxXCJdXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAuLi4uXG4gICAgICAgIH1dLFxuICAgICAgICBvcmRlcnM6IFt7XG4gICAgICAgICAgbmFtZTogJ2ZpZWxkLXgnLFxuICAgICAgICAgIHR5cGU6IDEgfCAtMVxuICAgICAgICB9XSxcbiAgICAgICAgc2VhcmNoOiB7XG4gICAgICAgICAgdHlwZTogJ29yIHwgYW5kJyxcbiAgICAgICAgICB2YWx1ZTogW3ZhbHVlMSwgdmFsdWUyXVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgc3RhcnRJbmRleDogMCAoaW50ZWdlciksXG4gICAgICAgIGNvdW50OiAwIChpbnRlZ2VyKVxuICAgICAgfSxcbiAgICAgIFxuICAgICAgaXNfY29sbGVjdGlvbjogdHJ1ZSB8IGZhbHNlLFxuICAgICAgLy8uIGNhc2UgZmV0Y2ggZG9jdW1lbnQgY2FzZVxuICAgICAgY3JlYXRlZF9pZHMgOiBbaWQxLCBpZDIsIC4uLl0sXG4gICAgICBcbiAgICAgIFxuICAgICAgLS0tLS0tLS0gYWRkaXRpb25hbCByZXNwb25zZSBkYXRhIC0tLS0tLS0tLS0tXG4gICAgICBkYXRhOiBbXSAvLyBhcnJheVxuICAgIH1cbiAgKi9cbiAgXG4gIHJlYWREb2N1bWVudExpc3QoaW5mbyl7XG4gICAgaWYoICFpbmZvICkgcmV0dXJuO1xuICAgIGxldCByZXF1ZXN0X2RhdGEgPSBnZXRDb21tb25QYXJhbXMoKTtcbiAgICBcbiAgICBpZiAoIWluZm8uY29sbGVjdGlvbiB8fCAhaW5mby5vcGVyYXRvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICByZXF1ZXN0X2RhdGEgPSB7Li4ucmVxdWVzdF9kYXRhLCAuLi5pbmZvfTtcbiAgICBcbiAgICB0aGlzLnNvY2tldC5zZW5kKCdyZWFkRG9jdW1lbnRMaXN0JywgcmVxdWVzdF9kYXRhKTtcbiAgfSxcbiAgXG4gIFxuICAvKlxuICBDb0NyZWF0ZS5jcnVkLmNyZWF0ZURvY3VtZW50KHtcbiAgICBuYW1lc3BhY2U6JycsXG4gICAgcm9vbTonJyxcbiAgICBicm9hZGNhc3Q6IHRydWUvZmFsc2UsIChkZWZhdWx0PXR1cmUpXG4gICAgYnJvYWRjYXN0X3NlbmRlcjogdHJ1ZS9mYWxzZSwgKGRlZmF1bHQ9dHJ1ZSkgXG4gICAgXG4gICAgY29sbGVjdGlvbjogXCJ0ZXN0MTIzXCIsXG4gICAgZGF0YTp7XG4gICAgXHRuYW1lMTrigJxoZWxsb+KAnSxcbiAgICBcdG5hbWUyOiAg4oCcaGVsbG8x4oCdXG4gICAgfSxcbiAgICBlbGVtZW50OiDigJx4eHh44oCdLFxuICAgIG1ldGFEYXRhOiBcInh4eHhcIlxuICB9KSxcbiAgKi9cbiAgLy8gZGF0YSBwYXJhbSBuZWVkcyBvcmdhbml6YXRpb25faWQgZmllbGQgYWRkZWQgdG8gcGFzcyBzZWN1cml0eSBjaGVja1xuICBjcmVhdGVEb2N1bWVudDogZnVuY3Rpb24oaW5mbykge1xuICAgIGlmIChpbmZvID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCByZXF1ZXN0X2RhdGEgPSBnZXRDb21tb25QYXJhbXMoKVxuICAgIHJlcXVlc3RfZGF0YVsnY29sbGVjdGlvbiddID0gaW5mb1snY29sbGVjdGlvbiddIHx8ICdtb2R1bGVfYWN0aXZpdGllcyc7XG4gICAgXG4gICAgbGV0IGRhdGEgPSBpbmZvLmRhdGEgfHwge307XG4gICAgXG4gICAgaWYgKCFkYXRhWydvcmdhbml6YXRpb25faWQnXSkge1xuICAgICAgZGF0YVsnb3JnYW5pemF0aW9uX2lkJ10gPSBjb25maWcub3JnYW5pemF0aW9uX0lkXG4gICAgfVxuICAgIGlmIChpbmZvWydkYXRhJ10pIHtcbiAgICAgIGRhdGEgPSB7Li4uZGF0YSwgLi4uaW5mb1snZGF0YSddfVxuICAgIH1cbiAgICByZXF1ZXN0X2RhdGFbJ2RhdGEnXSA9IGRhdGE7XG4gICAgaWYgKGluZm9bJ21ldGFkYXRhJ10pIHtcbiAgICAgIHJlcXVlc3RfZGF0YVsnbWV0YWRhdGEnXSA9IGluZm9bJ21ldGFkYXRhJ11cbiAgICB9XG4gICAgXG4gICAgcmVxdWVzdF9kYXRhWydlbGVtZW50J10gPSBpbmZvWydlbGVtZW50J107XG4gICAgXG4gICAgLyoqIHNvY2tldCBwYXJhbWV0ZXJzICoqL1xuICAgIC8vIGlmIChpbmZvWydicm9hZGNhc3QnXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gICByZXF1ZXN0X2RhdGFbJ2Jyb2FkY2FzdCddID0gdHJ1ZTtcbiAgICAvLyB9XG4gICAgLy8gaWYgKGluZm9bJ2Jyb2FkY2FzdF9zZW5kZXInXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gICByZXF1ZXN0X2RhdGFbJ2Jyb2FkY2FzdF9zZW5kZXInXSA9IHRydWU7XG4gICAgLy8gfVxuICAgIFxuICAgIGNvbnN0IHJvb20gPSBnZW5lcmF0ZVNvY2tldENsaWVudChpbmZvLm5hbWVzcGFjZSwgaW5mby5yb29tKTtcbiAgICB0aGlzLnNvY2tldC5zZW5kKCdjcmVhdGVEb2N1bWVudCcsIHJlcXVlc3RfZGF0YSwgcm9vbSk7XG4gIH0sXG4gIFxuXG4gIFxuXG4gIC8qXG4gIENvQ3JlYXRlLmNydWQudXBkYXRlRG9jdW1lbnQoe1xuICAgIG5hbWVzcGFjZTogJycsXG4gICAgcm9vbTogJycsXG4gICAgYnJvYWRjYXN0OiB0cnVlL2ZhbHNlLFxuICAgIGJyb2FkY2FzdF9zZW5kZXI6IHRydWUvZmFsc2UsXG4gICAgXG4gICAgY29sbGVjdGlvbjogXCJ0ZXN0MTIzXCIsXG4gICAgZG9jdW1lbnRfaWQ6IFwiZG9jdW1lbnRfaWRcIixcbiAgICBkYXRhOntcbiAgICBcdG5hbWUxOuKAnGhlbGxv4oCdLFxuICAgIFx0bmFtZTI6ICDigJxoZWxsbzHigJ1cbiAgICB9LFxuICAgIGRlbGV0ZV9maWVsZHM6W1wibmFtZTNcIiwgXCJuYW1lNFwiXSxcbiAgICBlbGVtZW50OiDigJx4eHh44oCdLFxuICAgIG1ldGFEYXRhOiBcInh4eHhcIlxuICB9KSxcbiAgKi9cbiAgdXBkYXRlRG9jdW1lbnQ6IGZ1bmN0aW9uKGluZm8pIHtcbiAgICBpZiggIWluZm8gfHwgIWluZm9bJ2RvY3VtZW50X2lkJ10gKSByZXR1cm47XG4gICAgXG4gICAgbGV0IHJlcXVlc3RfZGF0YSA9IGdldENvbW1vblBhcmFtc0V4dGVuZChpbmZvKTtcbiAgICBcbiAgICByZXF1ZXN0X2RhdGFbJ2NvbGxlY3Rpb24nXSA9IGluZm9bJ2NvbGxlY3Rpb24nXSB8fCAnbW9kdWxlX2FjdGl2aXRpZXMnO1xuICAgIHJlcXVlc3RfZGF0YVsnZG9jdW1lbnRfaWQnXSA9IGluZm9bJ2RvY3VtZW50X2lkJ107XG4gICAgXG4gICAgaWYoIHR5cGVvZiBpbmZvWydkYXRhJ10gPT09ICdvYmplY3QnICkgcmVxdWVzdF9kYXRhWydzZXQnXSA9IGluZm9bJ2RhdGEnXTtcbiAgICBpZiggQXJyYXkuaXNBcnJheShpbmZvWydkZWxldGVfZmllbGRzJ10pICkgcmVxdWVzdF9kYXRhWyd1bnNldCddID0gaW5mb1snZGVsZXRlX2ZpZWxkcyddO1xuICAgIFxuICAgIGlmKCFyZXF1ZXN0X2RhdGFbJ3NldCddICYmICFyZXF1ZXN0X2RhdGFbJ3Vuc2V0J10pIHJldHVybjtcbiAgICBcbiAgICByZXF1ZXN0X2RhdGFbJ2VsZW1lbnQnXSA9IGluZm9bJ2VsZW1lbnQnXTtcbiAgICByZXF1ZXN0X2RhdGFbJ21ldGFkYXRhJ10gPSBpbmZvWydtZXRhZGF0YSddO1xuICAgIFxuICAgIGlmIChpbmZvLnVwc2VydCkge1xuICAgICAgcmVxdWVzdF9kYXRhWyd1cHNlcnQnXSA9IHRydWU7XG4gICAgfVxuICAgIFxuICAgIGlmIChpbmZvLmJyb2FkY2FzdCA9PT0gZmFsc2UpIHtcbiAgICAgIHJlcXVlc3RfZGF0YVsnYnJvYWRjYXN0J10gPSBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgLyoqIHNvY2tldCBwYXJhbWV0ZXJzICoqL1xuICAgIC8vIGlmIChpbmZvWydicm9hZGNhc3QnXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gICByZXF1ZXN0X2RhdGFbJ2Jyb2FkY2FzdCddID0gdHJ1ZTtcbiAgICAvLyB9XG4gICAgcmVxdWVzdF9kYXRhWydicm9hZGNhc3Rfc2VuZGVyJ10gPSBpbmZvLmJyb2FkY2FzdF9zZW5kZXI7XG4gICAgaWYgKGluZm9bJ2Jyb2FkY2FzdF9zZW5kZXInXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1ZXN0X2RhdGFbJ2Jyb2FkY2FzdF9zZW5kZXInXSA9IHRydWU7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHJvb20gPSBnZW5lcmF0ZVNvY2tldENsaWVudChpbmZvLm5hbWVzcGFjZSwgaW5mby5yb29tKTtcbiAgICB0aGlzLnNvY2tldC5zZW5kKCd1cGRhdGVEb2N1bWVudCcsIHJlcXVlc3RfZGF0YSwgcm9vbSk7XG4gIH0sXG4gIFxuICBcbiAgLypcbiAgQ29DcmVhdGUuY3J1ZC5yZWFkRG9jdW1lbnQoe1xuICAgIGNvbGxlY3Rpb246IFwidGVzdDEyM1wiLFxuICAgIGRvY3VtZW50X2lkOiBcImRvY3VtZW50X2lkXCIsXG4gICAgZWxlbWVudDog4oCceHh4eOKAnSxcbiAgICBtZXRhRGF0YTogXCJ4eHh4XCIsXG4gICAgZXhjbHVkZV9maWVsZHM6IFtdIFxuICB9KSxcbiAgKi9cbiAgcmVhZERvY3VtZW50OiBmdW5jdGlvbihpbmZvKSB7XG4gICAgaWYgKGluZm8gPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpbmZvWydkb2N1bWVudF9pZCddIHx8ICFpbmZvKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGxldCByZXF1ZXN0X2RhdGEgPSBnZXRDb21tb25QYXJhbXMoKTtcbiAgICByZXF1ZXN0X2RhdGFbJ2NvbGxlY3Rpb24nXSA9IGluZm9bJ2NvbGxlY3Rpb24nXTtcbiAgICByZXF1ZXN0X2RhdGFbJ2RvY3VtZW50X2lkJ10gPSBpbmZvWydkb2N1bWVudF9pZCddO1xuICAgIGlmIChpbmZvWydleGNsdWRlX2ZpZWxkcyddKSB7XG4gICAgICByZXF1ZXN0X2RhdGFbJ2V4Y2x1ZGVfZmllbGRzJ10gPSBpbmZvWydleGNsdWRlX2ZpZWxkcyddO1xuICAgIH1cbiAgICBcbiAgICBpZiAoaW5mb1snZWxlbWVudCddKSB7XG4gICAgICByZXF1ZXN0X2RhdGFbJ2VsZW1lbnQnXSA9IGluZm9bJ2VsZW1lbnQnXTtcbiAgICB9XG4gICAgXG4gICAgcmVxdWVzdF9kYXRhWydtZXRhZGF0YSddID0gaW5mb1snbWV0YWRhdGEnXVxuICAgIHRoaXMuc29ja2V0LnNlbmQoJ3JlYWREb2N1bWVudCcsIHJlcXVlc3RfZGF0YSk7XG4gIH0sXG4gIFxuICBcbiAgLypcbiAgQ29DcmVhdGUuY3J1ZC5kZWxldGVEb2N1bWVudCh7XG4gICAgbmFtZXNwYWNlOiAnJyxcbiAgICByb29tOiAnJyxcbiAgICBicm9hZGNhc3Q6IHRydWUvZmFsc2UsXG4gICAgYnJvYWRjYXN0X3NlbmRlcjogdHJ1ZS9mYWxzZSxcbiAgICBcbiAgICBjb2xsZWN0aW9uOiBcIm1vZHVsZVwiLFxuICAgIGRvY3VtZW50X2lkOiBcIlwiLFxuICAgIGVsZW1lbnQ6IOKAnHh4eHjigJ0sXG4gICAgbWV0YWRhdGE6IFwieHh4eFwiXG4gIH0pLFxuICAqL1xuICBkZWxldGVEb2N1bWVudDogZnVuY3Rpb24oaW5mbykge1xuICAgIGlmICghaW5mb1snZG9jdW1lbnRfaWQnXSB8fCAhaW5mbykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBsZXQgcmVxdWVzdF9kYXRhID0gZ2V0Q29tbW9uUGFyYW1zKCk7XG4gICAgcmVxdWVzdF9kYXRhWydjb2xsZWN0aW9uJ10gPSBpbmZvWydjb2xsZWN0aW9uJ107XG4gICAgcmVxdWVzdF9kYXRhWydkb2N1bWVudF9pZCddID0gaW5mb1snZG9jdW1lbnRfaWQnXTtcbiAgICBcbiAgICBpZiAoaW5mb1snZWxlbWVudCddKSB7XG4gICAgICByZXF1ZXN0X2RhdGFbJ2VsZW1lbnQnXSA9IGluZm9bJ2VsZW1lbnQnXTtcbiAgICB9XG4gICAgXG4gICAgcmVxdWVzdF9kYXRhWydtZXRhZGF0YSddID0gaW5mb1snbWV0YWRhdGEnXVxuICAgIFxuICAgIC8qKiBzb2NrZXQgcGFyYW1ldGVycyAqKi9cbiAgICAvLyBpZiAoaW5mb1snYnJvYWRjYXN0J10gPT09IHVuZGVmaW5lZCkge1xuICAgIC8vICAgcmVxdWVzdF9kYXRhWydicm9hZGNhc3QnXSA9IHRydWU7XG4gICAgLy8gfVxuICAgIC8vIGlmIChpbmZvWydicm9hZGNhc3Rfc2VuZGVyJ10gPT09IHVuZGVmaW5lZCkge1xuICAgIC8vICAgcmVxdWVzdF9kYXRhWydicm9hZGNhc3Rfc2VuZGVyJ10gPSB0cnVlO1xuICAgIC8vIH1cbiAgICBcbiAgICBjb25zdCByb29tID0gZ2VuZXJhdGVTb2NrZXRDbGllbnQoaW5mby5uYW1lc3BhY2UsIGluZm8ucm9vbSk7XG4gICAgdGhpcy5zb2NrZXQuc2VuZCgnZGVsZXRlRG9jdW1lbnQnLCByZXF1ZXN0X2RhdGEsIHJvb20pO1xuICB9LFxuXG5cbiAvKiogZXhwb3J0IC8gaW1wb3J0IGRiIGZ1bmN0aW9ucyAqKi9cbiBcbiAgIC8qXG4gIHJlYWREb2N1bWVudCh7XG4gICAgY29sbGVjdGlvbjogXCJ0ZXN0MTIzXCIsXG4gICAgZWxlbWVudDog4oCceHh4eOKAnSxcbiAgICBtZXRhRGF0YTogXCJ4eHh4XCIsXG4gIH0pLFxuICAqL1xuICBleHBvcnRDb2xsZWN0aW9uOiBmdW5jdGlvbihpbmZvKSB7XG4gICAgaWYgKGluZm8gPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgcmVxdWVzdF9kYXRhID0gZ2V0Q29tbW9uUGFyYW1zKCk7XG4gICAgcmVxdWVzdF9kYXRhWydjb2xsZWN0aW9uJ10gPSBpbmZvWydjb2xsZWN0aW9uJ107XG4gICAgcmVxdWVzdF9kYXRhWydleHBvcnRfdHlwZSddID0gaW5mb1snZXhwb3J0X3R5cGUnXTtcblxuICAgIHJlcXVlc3RfZGF0YVsnbWV0YWRhdGEnXSA9IGluZm9bJ21ldGFkYXRhJ11cbiAgICB0aGlzLnNvY2tldC5zZW5kKCdleHBvcnREQicsIHJlcXVlc3RfZGF0YSk7XG4gIH0sXG4gIFxuICAvKlxuICByZWFkRG9jdW1lbnQoe1xuICAgIGNvbGxlY3Rpb246IFwidGVzdDEyM1wiLFxuICAgIGZpbGU6IGZpbGVcbiAgfSksXG4gICovXG4gIGltcG9ydENvbGxlY3Rpb246IGZ1bmN0aW9uKGluZm8pIHtcbiAgICBjb25zdCB7ZmlsZX0gPSBpbmZvO1xuICAgIGlmIChpbmZvID09PSBudWxsIHx8ICEoZmlsZSBpbnN0YW5jZW9mIEZpbGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZXh0ZW5zaW9uID0gZmlsZS5uYW1lLnNwbGl0KFwiLlwiKS5wb3AoKTtcbiAgICBcbiAgICBpZiAoIVsnanNvbicsJ2NzdiddLnNvbWUoKGl0ZW0pID0+IGl0ZW0gPT09IGV4dGVuc2lvbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgbGV0IHJlcXVlc3RfZGF0YSA9IGdldENvbW1vblBhcmFtcygpXG4gICAgcmVxdWVzdF9kYXRhWydjb2xsZWN0aW9uJ10gPSBpbmZvWydjb2xsZWN0aW9uJ11cbiAgICByZXF1ZXN0X2RhdGFbJ2ltcG9ydF90eXBlJ10gPSBleHRlbnNpb247XG4gICAgdGhpcy5zb2NrZXQuc2VuZCgnaW1wb3J0REInLCByZXF1ZXN0X2RhdGEpXG4gICAgdGhpcy5zb2NrZXQuc2VuZEZpbGUoZmlsZSk7XG4gIH0sXG4gIFxuICBcbiAgLy8uIG1lc3NhZ2UgbGlzdGVuZXJcbiAgbGlzdGVuTWVzc2FnZTogZnVuY3Rpb24obWVzc2FnZSwgZnVuKSB7XG4gICAgdGhpcy5zb2NrZXQubGlzdGVuKG1lc3NhZ2UsIGZ1bik7XG4gIH0sXG4gIFxuICBsaXN0ZW5lclJlYWREb2N1bWVudDogZnVuY3Rpb24oZnVuKSB7XG4gICAgdGhpcy5zb2NrZXQubGlzdGVuKFwicmVhZERvY3VtZW50XCIsIGZ1bik7XG4gIH0sXG4gIGxpc3RlbmVyQ3JlYXRlRG9jdW1lbnQ6IGZ1bmN0aW9uKGZ1bikge1xuICAgIHRoaXMuc29ja2V0Lmxpc3RlbihcImNyZWF0ZURvY3VtZW50XCIsIGZ1bik7XG4gIH0sXG4gIGxpc3RlbmVyRGVsZXRlRG9jdW1lbnQ6IGZ1bmN0aW9uKGZ1bikge1xuICAgIHRoaXMuc29ja2V0Lmxpc3RlbihcImRlbGV0ZURvY3VtZW50XCIsIGZ1bik7XG4gIH0sXG4gIGxpc3RlbmVyVXBkYXRlRG9jdW1lbnQ6IGZ1bmN0aW9uKGZ1bikge1xuICAgIHRoaXMuc29ja2V0Lmxpc3RlbihcInVwZGF0ZURvY3VtZW50XCIsIGZ1bik7XG4gIH0sXG4gIGxpc3RlbmVyUmVhZERvY3VtZW50TGlzdDogZnVuY3Rpb24oZnVuKSB7XG4gICAgdGhpcy5zb2NrZXQubGlzdGVuKFwicmVhZERvY3VtZW50TGlzdFwiLCBmdW4pO1xuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUlVEKHNvY2tldCkge1xuICBDb0NyZWF0ZUNSVUQuc2V0U29ja2V0KHNvY2tldCk7XG4gIHJldHVybiBDb0NyZWF0ZUNSVUQ7XG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreateJS/src/crud.js\n")},"../../CoCreateJS/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.addComponent = addComponent;\nexports.removeComponent = removeComponent;\nObject.defineProperty(exports, "utils", ({\n  enumerable: true,\n  get: function () {\n    return _utils.default;\n  }\n}));\nexports.message = exports.crud = exports.socketApi = exports.socket = exports.core = void 0;\n\nvar _socket = _interopRequireDefault(__webpack_require__(/*! ./socket.js */ "../../CoCreateJS/src/socket.js"));\n\nvar _crud = _interopRequireDefault(__webpack_require__(/*! ./crud.js */ "../../CoCreateJS/src/crud.js"));\n\nvar _core = _interopRequireDefault(__webpack_require__(/*! ./core.js */ "../../CoCreateJS/src/core.js"));\n\nvar _utils = _interopRequireDefault(__webpack_require__(/*! ./utils.js */ "../../CoCreateJS/src/utils.js"));\n\nvar _message = _interopRequireDefault(__webpack_require__(/*! ./message.js */ "../../CoCreateJS/src/message.js"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import CRDT from "./crdt.js"\nlet socket = new _socket.default(\'ws\');\nexports.socket = socket;\nlet socketApi = new _socket.default(\'api\');\nexports.socketApi = socketApi;\nlet core = (0, _core.default)(socket);\nexports.core = core;\nlet crud = (0, _crud.default)(socket);\nexports.crud = crud;\nlet message = (0, _message.default)(socket);\nexports.message = message;\ncore.init(window.config.host ? window.config.host : \'server.cocreate.app\');\n\nfunction addComponent(key, component) {\n  this[key] = component;\n}\n\nfunction removeComponent(key) {\n  if (this[key]) {}\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mbG9hdGluZ0xhYmVsLy4uL0NvQ3JlYXRlSlMvc3JjL2luZGV4LmpzPzI4OWEiXSwibmFtZXMiOlsic29ja2V0IiwiQ29DcmVhdGVTb2NrZXQiLCJzb2NrZXRBcGkiLCJjb3JlIiwiY3J1ZCIsIm1lc3NhZ2UiLCJpbml0Iiwid2luZG93IiwiY29uZmlnIiwiaG9zdCIsImFkZENvbXBvbmVudCIsImtleSIsImNvbXBvbmVudCIsInJlbW92ZUNvbXBvbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQTtBQUNBLElBQUlBLE1BQU0sR0FBRyxJQUFJQyxlQUFKLENBQW1CLElBQW5CLENBQWI7O0FBQ0EsSUFBSUMsU0FBUyxHQUFHLElBQUlELGVBQUosQ0FBbUIsS0FBbkIsQ0FBaEI7O0FBRUEsSUFBSUUsSUFBSSxHQUFHLG1CQUFLSCxNQUFMLENBQVg7O0FBQ0EsSUFBSUksSUFBSSxHQUFHLG1CQUFLSixNQUFMLENBQVg7O0FBQ0EsSUFBSUssT0FBTyxHQUFHLHNCQUFRTCxNQUFSLENBQWQ7O0FBRUFHLElBQUksQ0FBQ0csSUFBTCxDQUFVQyxNQUFNLENBQUNDLE1BQVAsQ0FBY0MsSUFBZCxHQUFxQkYsTUFBTSxDQUFDQyxNQUFQLENBQWNDLElBQW5DLEdBQTBDLHFCQUFwRDs7QUFFQSxTQUFTQyxZQUFULENBQXNCQyxHQUF0QixFQUEyQkMsU0FBM0IsRUFBc0M7QUFDbEMsT0FBS0QsR0FBTCxJQUFZQyxTQUFaO0FBQ0g7O0FBRUQsU0FBU0MsZUFBVCxDQUF5QkYsR0FBekIsRUFBOEI7QUFDMUIsTUFBSSxLQUFLQSxHQUFMLENBQUosRUFBZSxDQUVkO0FBQ0oiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGVKUy9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29DcmVhdGVTb2NrZXQgZnJvbSBcIi4vc29ja2V0LmpzXCJcbmltcG9ydCBDUlVEIGZyb20gXCIuL2NydWQuanNcIlxuaW1wb3J0IENvcmUgZnJvbSBcIi4vY29yZS5qc1wiXG5pbXBvcnQgdXRpbHMgZnJvbSBcIi4vdXRpbHMuanNcIlxuaW1wb3J0IE1lc3NhZ2UgZnJvbSBcIi4vbWVzc2FnZS5qc1wiXG5cbi8vIGltcG9ydCBDUkRUIGZyb20gXCIuL2NyZHQuanNcIlxubGV0IHNvY2tldCA9IG5ldyBDb0NyZWF0ZVNvY2tldCgnd3MnKTtcbmxldCBzb2NrZXRBcGkgPSBuZXcgQ29DcmVhdGVTb2NrZXQoJ2FwaScpO1xuXG5sZXQgY29yZSA9IENvcmUoc29ja2V0KVxubGV0IGNydWQgPSBDUlVEKHNvY2tldClcbmxldCBtZXNzYWdlID0gTWVzc2FnZShzb2NrZXQpXG5cbmNvcmUuaW5pdCh3aW5kb3cuY29uZmlnLmhvc3QgPyB3aW5kb3cuY29uZmlnLmhvc3QgOiAnc2VydmVyLmNvY3JlYXRlLmFwcCcpO1xuXG5mdW5jdGlvbiBhZGRDb21wb25lbnQoa2V5LCBjb21wb25lbnQpIHtcbiAgICB0aGlzW2tleV0gPSBjb21wb25lbnQ7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNvbXBvbmVudChrZXkpIHtcbiAgICBpZiAodGhpc1trZXldKSB7XG5cbiAgICB9XG59XG5cbmV4cG9ydCB7XG4gICAgY29yZSxcbiAgICBzb2NrZXQsXG4gICAgc29ja2V0QXBpLFxuICAgIGNydWQsXG4gICAgdXRpbHMsXG4gICAgbWVzc2FnZSxcbiAgICBhZGRDb21wb25lbnQsXG4gICAgcmVtb3ZlQ29tcG9uZW50XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreateJS/src/index.js\n')},"../../CoCreateJS/src/message.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = Message;\n\nvar _commonFun = __webpack_require__(/*! ./common-fun.js */ \"../../CoCreateJS/src/common-fun.js\");\n\nconst CoCreateMessage = {\n  socket: null,\n  setSocket: function (socket) {\n    this.socket = socket;\n  },\n\n  /*\n  CoCreate.message.send({\n     namespace: '',\n     room: '',\n     broadcast: true/false,\n     broadcast_sender: true/false\n     \n     rooms: [r1, r2],\n     emit: {\n       message': 'nice game',\n       data': 'let's play a game ....'\n     }\n   })\n  */\n  send: function (data) {\n    let request_data = (0, _commonFun.getCommonParams)();\n\n    if (!data || !data.emit) {\n      return;\n    }\n\n    request_data = { ...request_data,\n      ...data\n    };\n    /** socket parameters **/\n    // if (data['broadcast'] === undefined) {\n    //   request_data['broadcast'] = true;\n    // }\n    // if (data['broadcast_sender'] === undefined) {\n    //   request_data['broadcast_sender'] = true;\n    // }\n\n    const room = (0, _commonFun.generateSocketClient)(data.namespace, data.room);\n    this.socket.send('sendMessage', request_data, room);\n  },\n  receive: function (message, fun) {\n    this.socket.listen(message, fun);\n  }\n};\n\nfunction Message(socket) {\n  CoCreateMessage.setSocket(socket);\n  return CoCreateMessage;\n}\n\n;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mbG9hdGluZ0xhYmVsLy4uL0NvQ3JlYXRlSlMvc3JjL21lc3NhZ2UuanM/Nzg0MiJdLCJuYW1lcyI6WyJDb0NyZWF0ZU1lc3NhZ2UiLCJzb2NrZXQiLCJzZXRTb2NrZXQiLCJzZW5kIiwiZGF0YSIsInJlcXVlc3RfZGF0YSIsImVtaXQiLCJyb29tIiwibmFtZXNwYWNlIiwicmVjZWl2ZSIsIm1lc3NhZ2UiLCJmdW4iLCJsaXN0ZW4iLCJNZXNzYWdlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUEsTUFBTUEsZUFBZSxHQUFHO0FBQ3RCQyxRQUFNLEVBQUUsSUFEYztBQUV0QkMsV0FBUyxFQUFFLFVBQVNELE1BQVQsRUFBaUI7QUFDMUIsU0FBS0EsTUFBTCxHQUFjQSxNQUFkO0FBQ0QsR0FKcUI7O0FBS3ZCO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQ0UsTUFBSSxFQUFFLFVBQVNDLElBQVQsRUFBZTtBQUNsQixRQUFJQyxZQUFZLEdBQUcsaUNBQW5COztBQUVBLFFBQUksQ0FBQ0QsSUFBRCxJQUFTLENBQUNBLElBQUksQ0FBQ0UsSUFBbkIsRUFBeUI7QUFDdkI7QUFDRDs7QUFDREQsZ0JBQVksR0FBRyxFQUFDLEdBQUdBLFlBQUo7QUFBa0IsU0FBR0Q7QUFBckIsS0FBZjtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLFVBQU1HLElBQUksR0FBRyxxQ0FBcUJILElBQUksQ0FBQ0ksU0FBMUIsRUFBcUNKLElBQUksQ0FBQ0csSUFBMUMsQ0FBYjtBQUVBLFNBQUtOLE1BQUwsQ0FBWUUsSUFBWixDQUFpQixhQUFqQixFQUFnQ0UsWUFBaEMsRUFBOENFLElBQTlDO0FBQ0YsR0FyQ3NCO0FBdUN2QkUsU0FBTyxFQUFFLFVBQVNDLE9BQVQsRUFBa0JDLEdBQWxCLEVBQXVCO0FBQzlCLFNBQUtWLE1BQUwsQ0FBWVcsTUFBWixDQUFtQkYsT0FBbkIsRUFBNEJDLEdBQTVCO0FBQ0Q7QUF6Q3NCLENBQXhCOztBQTRDZSxTQUFTRSxPQUFULENBQWlCWixNQUFqQixFQUF5QjtBQUN0Q0QsaUJBQWUsQ0FBQ0UsU0FBaEIsQ0FBMEJELE1BQTFCO0FBQ0EsU0FBT0QsZUFBUDtBQUNEOztBQUFBIiwiZmlsZSI6Ii4uLy4uL0NvQ3JlYXRlSlMvc3JjL21lc3NhZ2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dldENvbW1vblBhcmFtcywgZ2V0Q29tbW9uUGFyYW1zRXh0ZW5kLCBnZW5lcmF0ZVNvY2tldENsaWVudH0gZnJvbSBcIi4vY29tbW9uLWZ1bi5qc1wiXG5cbmNvbnN0IENvQ3JlYXRlTWVzc2FnZSA9IHtcbiAgc29ja2V0OiBudWxsLFxuICBzZXRTb2NrZXQ6IGZ1bmN0aW9uKHNvY2tldCkge1xuICAgIHRoaXMuc29ja2V0ID0gc29ja2V0O1xuICB9LFxuIC8qXG4gQ29DcmVhdGUubWVzc2FnZS5zZW5kKHtcbiAgICBuYW1lc3BhY2U6ICcnLFxuICAgIHJvb206ICcnLFxuICAgIGJyb2FkY2FzdDogdHJ1ZS9mYWxzZSxcbiAgICBicm9hZGNhc3Rfc2VuZGVyOiB0cnVlL2ZhbHNlXG4gICAgXG4gICAgcm9vbXM6IFtyMSwgcjJdLFxuICAgIGVtaXQ6IHtcbiAgICAgIG1lc3NhZ2UnOiAnbmljZSBnYW1lJyxcbiAgICAgIGRhdGEnOiAnbGV0J3MgcGxheSBhIGdhbWUgLi4uLidcbiAgICB9XG4gIH0pXG4gKi9cbiBzZW5kOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgbGV0IHJlcXVlc3RfZGF0YSA9IGdldENvbW1vblBhcmFtcygpO1xuICAgIFxuICAgIGlmICghZGF0YSB8fCAhZGF0YS5lbWl0KSB7XG4gICAgICByZXR1cm47ICAgICBcbiAgICB9XG4gICAgcmVxdWVzdF9kYXRhID0gey4uLnJlcXVlc3RfZGF0YSwgLi4uZGF0YX1cbiAgICBcbiAgICAvKiogc29ja2V0IHBhcmFtZXRlcnMgKiovXG4gICAgLy8gaWYgKGRhdGFbJ2Jyb2FkY2FzdCddID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyAgIHJlcXVlc3RfZGF0YVsnYnJvYWRjYXN0J10gPSB0cnVlO1xuICAgIC8vIH1cbiAgICAvLyBpZiAoZGF0YVsnYnJvYWRjYXN0X3NlbmRlciddID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyAgIHJlcXVlc3RfZGF0YVsnYnJvYWRjYXN0X3NlbmRlciddID0gdHJ1ZTtcbiAgICAvLyB9XG4gICAgY29uc3Qgcm9vbSA9IGdlbmVyYXRlU29ja2V0Q2xpZW50KGRhdGEubmFtZXNwYWNlLCBkYXRhLnJvb20pO1xuICAgIFxuICAgIHRoaXMuc29ja2V0LnNlbmQoJ3NlbmRNZXNzYWdlJywgcmVxdWVzdF9kYXRhLCByb29tKVxuIH0sXG4gXG4gcmVjZWl2ZTogZnVuY3Rpb24obWVzc2FnZSwgZnVuKSB7XG4gICB0aGlzLnNvY2tldC5saXN0ZW4obWVzc2FnZSwgZnVuKTtcbiB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNZXNzYWdlKHNvY2tldCkge1xuICBDb0NyZWF0ZU1lc3NhZ2Uuc2V0U29ja2V0KHNvY2tldClcbiAgcmV0dXJuIENvQ3JlYXRlTWVzc2FnZTtcbn07XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../CoCreateJS/src/message.js\n")},"../../CoCreateJS/src/socket.js":(__unused_webpack_module,exports)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nclass CoCreateSocket {\n  constructor(prefix = \"crud\") {\n    this.prefix = prefix || \"crud\";\n    this.sockets = new Map();\n    this.listeners = new Map();\n    this.messageQueue = new Map();\n    this.saveFileName = '';\n    this.globalScope = \"\";\n  }\n\n  setGlobalScope(scope) {\n    this.globalScope = `${this.prefix}/${scope}`;\n  }\n\n  getGlobalScope() {\n    return this.globalScope;\n  }\n  /**\n   * config: {namespace, room, host}\n   */\n\n\n  create(config) {\n    const {\n      namespace,\n      room\n    } = config;\n    const key = this.getKey(namespace, room);\n\n    let _this = this;\n\n    let socket;\n\n    if (this.sockets.get(key)) {\n      socket = this.sockets.get(key);\n      console.log('SOcket already has been register');\n      return;\n    }\n\n    let w_protocol = window.location.protocol;\n\n    if (window.location.protocol === \"about:\") {\n      w_protocol = window.parent.location.protocol;\n    }\n\n    let protocol = w_protocol === 'http:' ? 'ws' : 'wss';\n    const port = config.port ? config.port : 8088;\n    let socket_url = `${protocol}://${window.location.host}:${port}/${key}`;\n\n    if (config.host) {\n      if (config.host.includes(\"://\")) {\n        socket_url = `${config.host}/${key}`;\n      } else {\n        socket_url = `${protocol}://${config.host}:${port}/${key}`;\n      }\n    }\n\n    socket = new WebSocket(socket_url);\n\n    socket.onopen = function (event) {\n      console.log('created socket: ' + key);\n      const messages = _this.messageQueue.get(key) || [];\n      console.log(messages);\n      messages.forEach(msg => socket.send(JSON.stringify(msg)));\n\n      _this.sockets.set(key, socket);\n\n      _this.messageQueue.set(key, []);\n    };\n\n    socket.onclose = function (event) {\n      switch (event.code) {\n        case 1000:\n          // close normal\n          console.log(\"websocket: closed\");\n          break;\n\n        default:\n          _this.destroy(socket, key);\n\n          _this.reconnect(socket, config);\n\n          break;\n      }\n    };\n\n    socket.onerror = function (err) {\n      console.log('Socket error');\n\n      _this.destroy(socket, key);\n\n      _this.reconnect(socket, config);\n    };\n\n    socket.onmessage = function (data) {\n      try {\n        if (data.data instanceof Blob) {\n          _this.saveFile(data.data);\n\n          return;\n        }\n\n        let rev_data = JSON.parse(data.data);\n\n        const listeners = _this.listeners.get(rev_data.action);\n\n        if (!listeners) {\n          return;\n        }\n\n        listeners.forEach(listener => {\n          listener(rev_data.data, key);\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    };\n  }\n  /**\n   * \n   */\n\n\n  send(action, data, room) {\n    const obj = {\n      action: action,\n      data: data\n    };\n    const key = this.getKeyByRoom(room);\n    const socket = this.getByRoom(room);\n\n    if (socket) {\n      socket.send(JSON.stringify(obj));\n    } else {\n      if (this.messageQueue.get(key)) {\n        this.messageQueue.get(key).push(obj);\n      } else {\n        this.messageQueue.set(key, [obj]);\n      }\n    }\n  }\n\n  sendFile(file, room) {\n    const socket = this.getByRoom(room);\n\n    if (socket) {\n      socket.send(file);\n    }\n  }\n  /**\n   * scope: ns/room\n   */\n\n\n  listen(type, callback) {\n    if (!this.listeners.get(type)) {\n      this.listeners.set(type, [callback]);\n    } else {\n      this.listeners.get(type).push(callback);\n    }\n  }\n\n  reconnect(socket, config) {\n    let _this = this;\n\n    setTimeout(function () {\n      _this.create(config);\n    }, 1000);\n  }\n\n  destroy(socket, key) {\n    if (socket) {\n      socket.onerror = socket.onopen = socket.onclose = null;\n      socket.close();\n      socket = null;\n    }\n\n    if (this.sockets.get(key)) {\n      this.sockets.delete(key);\n    }\n  }\n\n  getKey(namespace, room) {\n    let key = `${this.prefix}`;\n\n    if (namespace && namespace != '') {\n      if (room && room != '') {\n        key += `/${namespace}/${room}`;\n      } else {\n        key += `/${namespace}`;\n      }\n    }\n\n    return key;\n  }\n\n  getByRoom(room) {\n    let key = this.getKeyByRoom(room);\n    return this.sockets.get(key);\n  }\n\n  getKeyByRoom(room) {\n    let key = this.globalScope;\n\n    if (room) {\n      key = `${this.prefix}/${room}`;\n    }\n\n    return key;\n  }\n\n  saveFile(blob) {\n    // const {filename} = window.saveFileInfo;\n    const file_name = this.saveFileName || 'downloadFile';\n    var a = document.createElement(\"a\");\n    document.body.appendChild(a);\n    a.style = \"display: none\";\n    let url = window.URL.createObjectURL(blob);\n    a.href = url;\n    a.download = file_name;\n    a.click();\n    window.URL.revokeObjectURL(url);\n    this.saveFileName = '';\n  }\n\n}\n\nvar _default = CoCreateSocket;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mbG9hdGluZ0xhYmVsLy4uL0NvQ3JlYXRlSlMvc3JjL3NvY2tldC5qcz8xN2JkIl0sIm5hbWVzIjpbIkNvQ3JlYXRlU29ja2V0IiwiY29uc3RydWN0b3IiLCJwcmVmaXgiLCJzb2NrZXRzIiwiTWFwIiwibGlzdGVuZXJzIiwibWVzc2FnZVF1ZXVlIiwic2F2ZUZpbGVOYW1lIiwiZ2xvYmFsU2NvcGUiLCJzZXRHbG9iYWxTY29wZSIsInNjb3BlIiwiZ2V0R2xvYmFsU2NvcGUiLCJjcmVhdGUiLCJjb25maWciLCJuYW1lc3BhY2UiLCJyb29tIiwia2V5IiwiZ2V0S2V5IiwiX3RoaXMiLCJzb2NrZXQiLCJnZXQiLCJjb25zb2xlIiwibG9nIiwid19wcm90b2NvbCIsIndpbmRvdyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJwYXJlbnQiLCJwb3J0Iiwic29ja2V0X3VybCIsImhvc3QiLCJpbmNsdWRlcyIsIldlYlNvY2tldCIsIm9ub3BlbiIsImV2ZW50IiwibWVzc2FnZXMiLCJmb3JFYWNoIiwibXNnIiwic2VuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXQiLCJvbmNsb3NlIiwiY29kZSIsImRlc3Ryb3kiLCJyZWNvbm5lY3QiLCJvbmVycm9yIiwiZXJyIiwib25tZXNzYWdlIiwiZGF0YSIsIkJsb2IiLCJzYXZlRmlsZSIsInJldl9kYXRhIiwicGFyc2UiLCJhY3Rpb24iLCJsaXN0ZW5lciIsImUiLCJvYmoiLCJnZXRLZXlCeVJvb20iLCJnZXRCeVJvb20iLCJwdXNoIiwic2VuZEZpbGUiLCJmaWxlIiwibGlzdGVuIiwidHlwZSIsImNhbGxiYWNrIiwic2V0VGltZW91dCIsImNsb3NlIiwiZGVsZXRlIiwiYmxvYiIsImZpbGVfbmFtZSIsImEiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJzdHlsZSIsInVybCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImhyZWYiLCJkb3dubG9h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LEtBQUY7QUFDQTFELFVBQU0sQ0FBQ3NELEdBQVAsQ0FBV0ssZUFBWCxDQUEyQk4sR0FBM0I7QUFFQSxTQUFLdEUsWUFBTCxHQUFvQixFQUFwQjtBQUNOOztBQTNNRjs7ZUE4TWVQLGMiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGVKUy9zcmMvc29ja2V0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ29DcmVhdGVTb2NrZXRcbntcblx0Y29uc3RydWN0b3IocHJlZml4ID0gXCJjcnVkXCIpIHtcblx0XHR0aGlzLnByZWZpeCA9IHByZWZpeCB8fCBcImNydWRcIjtcblx0XHR0aGlzLnNvY2tldHMgPSBuZXcgTWFwKCk7XG5cdFx0dGhpcy5saXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG5cdFx0dGhpcy5tZXNzYWdlUXVldWUgPSAgbmV3IE1hcCgpO1xuXHRcdHRoaXMuc2F2ZUZpbGVOYW1lID0gICcnO1xuXHRcdHRoaXMuZ2xvYmFsU2NvcGUgPSAgXCJcIjtcblx0fVxuXG5cdHNldEdsb2JhbFNjb3BlKHNjb3BlKSB7XG5cdFx0dGhpcy5nbG9iYWxTY29wZSA9IGAke3RoaXMucHJlZml4fS8ke3Njb3BlfWA7XG5cdH1cblx0XG5cdGdldEdsb2JhbFNjb3BlKCkge1xuXHRcdHJldHVybiB0aGlzLmdsb2JhbFNjb3BlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY29uZmlnOiB7bmFtZXNwYWNlLCByb29tLCBob3N0fVxuXHQgKi9cblx0Y3JlYXRlIChjb25maWcpIHtcblx0XHRjb25zdCB7bmFtZXNwYWNlLCByb29tfSA9IGNvbmZpZztcblx0XHRjb25zdCBrZXkgPSB0aGlzLmdldEtleShuYW1lc3BhY2UsIHJvb20pO1xuXHRcdGxldCBfdGhpcyA9IHRoaXM7XG5cdFx0bGV0IHNvY2tldDtcblx0XHRpZiAodGhpcy5zb2NrZXRzLmdldChrZXkpKSB7XG5cdFx0XHRzb2NrZXQgPSB0aGlzLnNvY2tldHMuZ2V0KGtleSk7XG5cdFx0XHRjb25zb2xlLmxvZygnU09ja2V0IGFscmVhZHkgaGFzIGJlZW4gcmVnaXN0ZXInKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0bGV0IHdfcHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2w7XHRcdFxuXHRcdGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09IFwiYWJvdXQ6XCIpIHtcblx0XHRcdHdfcHJvdG9jb2wgPSB3aW5kb3cucGFyZW50LmxvY2F0aW9uLnByb3RvY29sO1xuXHRcdH1cblx0XHRsZXQgcHJvdG9jb2wgPSB3X3Byb3RvY29sID09PSAnaHR0cDonID8gJ3dzJyA6ICd3c3MnO1xuXHRcdFxuXHRcdGNvbnN0IHBvcnQgPSBjb25maWcucG9ydCA/IGNvbmZpZy5wb3J0IDogODA4ODtcblx0XHRcblx0XHRsZXQgc29ja2V0X3VybCA9IGAke3Byb3RvY29sfTovLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9OiR7cG9ydH0vJHtrZXl9YDtcblx0XHRcblx0XHRpZiAoY29uZmlnLmhvc3QpIHtcblx0XHRcdGlmIChjb25maWcuaG9zdC5pbmNsdWRlcyhcIjovL1wiKSkge1xuXHRcdFx0XHRzb2NrZXRfdXJsID0gYCR7Y29uZmlnLmhvc3R9LyR7a2V5fWA7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzb2NrZXRfdXJsID0gYCR7cHJvdG9jb2x9Oi8vJHtjb25maWcuaG9zdH06JHtwb3J0fS8ke2tleX1gO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHNvY2tldF91cmwpO1xuXHRcdFxuXHRcdHNvY2tldC5vbm9wZW4gPSBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0Y29uc29sZS5sb2coJ2NyZWF0ZWQgc29ja2V0OiAnICsga2V5KTtcblx0XHRcdGNvbnN0IG1lc3NhZ2VzID0gX3RoaXMubWVzc2FnZVF1ZXVlLmdldChrZXkpIHx8IFtdO1xuXHRcdFx0Y29uc29sZS5sb2cobWVzc2FnZXMpXG5cdFx0XHRtZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiBzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShtc2cpKSk7XG5cdFx0XHRcblx0XHRcdF90aGlzLnNvY2tldHMuc2V0KGtleSwgc29ja2V0KTtcblx0XHRcdF90aGlzLm1lc3NhZ2VRdWV1ZS5zZXQoa2V5LCBbXSk7XG5cdFx0fVxuXHRcdFxuXHRcdHNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdHN3aXRjaChldmVudC5jb2RlKSB7XG5cdFx0XHRcdGNhc2UgMTAwMDogLy8gY2xvc2Ugbm9ybWFsXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJ3ZWJzb2NrZXQ6IGNsb3NlZFwiKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDogXG5cdFx0XHRcdFx0X3RoaXMuZGVzdHJveShzb2NrZXQsIGtleSk7XG5cdFx0XHRcdFx0X3RoaXMucmVjb25uZWN0KHNvY2tldCwgY29uZmlnKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0c29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbihlcnIpIHtcblx0XHRcdGNvbnNvbGUubG9nKCdTb2NrZXQgZXJyb3InKTtcblx0XHRcdF90aGlzLmRlc3Ryb3koc29ja2V0LCBrZXkpO1xuXHRcdFx0X3RoaXMucmVjb25uZWN0KHNvY2tldCwgY29uZmlnKTtcblx0XHR9XG5cblx0XHRzb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAoZGF0YS5kYXRhIGluc3RhbmNlb2YgQmxvYikge1xuXHRcdFx0XHRcdF90aGlzLnNhdmVGaWxlKGRhdGEuZGF0YSk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxldCByZXZfZGF0YSA9IEpTT04ucGFyc2UoZGF0YS5kYXRhKTtcblx0XHRcdFx0XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCBsaXN0ZW5lcnMgPSBfdGhpcy5saXN0ZW5lcnMuZ2V0KHJldl9kYXRhLmFjdGlvbik7XG5cdFx0XHRcdGlmICghbGlzdGVuZXJzKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcblx0XHRcdFx0XHRsaXN0ZW5lcihyZXZfZGF0YS5kYXRhLCBrZXkpO1xuXHRcdFx0XHR9KVxuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhlKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBcblx0ICovXG5cdHNlbmQgKGFjdGlvbiwgZGF0YSwgcm9vbSkge1xuXHRcdGNvbnN0IG9iaiA9IHtcblx0XHRcdGFjdGlvbjogYWN0aW9uLFxuXHRcdFx0ZGF0YTogZGF0YVxuXHRcdH1cblx0XHRjb25zdCBrZXkgPSB0aGlzLmdldEtleUJ5Um9vbShyb29tKTtcblx0XHRjb25zdCBzb2NrZXQgPSB0aGlzLmdldEJ5Um9vbShyb29tKTtcblx0XHRcblx0XHRpZiAoc29ja2V0KSB7XG5cdFx0XHRzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShvYmopKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHRoaXMubWVzc2FnZVF1ZXVlLmdldChrZXkpKSB7XG5cdFx0XHRcdHRoaXMubWVzc2FnZVF1ZXVlLmdldChrZXkpLnB1c2gob2JqKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMubWVzc2FnZVF1ZXVlLnNldChrZXksIFtvYmpdKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdHNlbmRGaWxlIChmaWxlLCByb29tKSB7XG5cdFx0Y29uc3Qgc29ja2V0ID0gdGhpcy5nZXRCeVJvb20ocm9vbSk7XG5cdFx0aWYgKHNvY2tldCkge1xuXHRcdFx0c29ja2V0LnNlbmQoZmlsZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIHNjb3BlOiBucy9yb29tXG5cdCAqL1xuXHRsaXN0ZW4odHlwZSwgY2FsbGJhY2spIHtcblx0XHRpZiAoIXRoaXMubGlzdGVuZXJzLmdldCh0eXBlKSkge1xuXHRcdFx0dGhpcy5saXN0ZW5lcnMuc2V0KHR5cGUsIFtjYWxsYmFja10pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmxpc3RlbmVycy5nZXQodHlwZSkucHVzaChjYWxsYmFjayk7XG5cdFx0fVxuXHR9XG5cdFxuXHRyZWNvbm5lY3Qoc29ja2V0LCBjb25maWcpIHtcblx0XHRsZXQgX3RoaXMgPSB0aGlzO1xuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRfdGhpcy5jcmVhdGUoY29uZmlnKTtcblx0XHR9LCAxMDAwKVxuXHR9XG5cdFxuXHRkZXN0cm95KHNvY2tldCwga2V5KSB7XG5cdFx0aWYgKHNvY2tldCkge1xuXHRcdFx0c29ja2V0Lm9uZXJyb3IgPSBzb2NrZXQub25vcGVuID0gc29ja2V0Lm9uY2xvc2UgPSBudWxsO1xuXHRcdFx0c29ja2V0LmNsb3NlKCk7XG5cdFx0XHRzb2NrZXQgPSBudWxsO1xuXHRcdH1cblx0XHRcblx0XHRpZiAodGhpcy5zb2NrZXRzLmdldChrZXkpKSB7XG5cdFx0XHR0aGlzLnNvY2tldHMuZGVsZXRlKGtleSk7XG5cdFx0fVxuXHR9XG5cdFxuXHRnZXRLZXkobmFtZXNwYWNlLCByb29tKSB7XG5cdFx0bGV0IGtleSA9IGAke3RoaXMucHJlZml4fWA7XG5cdFx0aWYgKG5hbWVzcGFjZSAmJiBuYW1lc3BhY2UgIT0gJycpIHtcblx0XHRcdGlmIChyb29tICYmICByb29tICE9ICcnKSB7XG5cdFx0XHRcdGtleSArPSBgLyR7bmFtZXNwYWNlfS8ke3Jvb219YDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGtleSArPWAvJHtuYW1lc3BhY2V9YDtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGtleTtcblx0fVxuXHRcblx0Z2V0QnlSb29tKHJvb20pIHtcblx0XHRsZXQga2V5ID0gdGhpcy5nZXRLZXlCeVJvb20ocm9vbSlcblx0XHRyZXR1cm4gdGhpcy5zb2NrZXRzLmdldChrZXkpO1x0XG5cdH1cblx0XG5cdGdldEtleUJ5Um9vbShyb29tKSB7XG5cdFx0bGV0IGtleSA9IHRoaXMuZ2xvYmFsU2NvcGU7XG5cdFx0aWYgKHJvb20pIHtcblx0XHRcdGtleSA9IGAke3RoaXMucHJlZml4fS8ke3Jvb219YDtcblx0XHR9XG5cdFx0cmV0dXJuIGtleTtcdFx0XG5cdH1cblx0XG5cdFxuXHRzYXZlRmlsZShibG9iKSB7XG5cdFx0Ly8gY29uc3Qge2ZpbGVuYW1lfSA9IHdpbmRvdy5zYXZlRmlsZUluZm87XG5cdFx0XG5cdFx0Y29uc3QgZmlsZV9uYW1lID0gdGhpcy5zYXZlRmlsZU5hbWUgfHwgJ2Rvd25sb2FkRmlsZSc7XG5cdFx0dmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgYS5zdHlsZSA9IFwiZGlzcGxheTogbm9uZVwiO1xuXG4gICAgICAgIGxldCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgICBhLmRvd25sb2FkID0gZmlsZV9uYW1lO1xuICAgICAgICBhLmNsaWNrKCk7XG4gICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG5cbiAgICAgICAgdGhpcy5zYXZlRmlsZU5hbWUgPSAnJ1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlU29ja2V0O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../CoCreateJS/src/socket.js\n")},"../../CoCreateJS/src/utils.js":(__unused_webpack_module,exports)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.default = void 0;\n\n/**\n * Created by jin\n * 2020-04-03\n */\nconst CoCreateUtils = {\n  generateUUID: function (length = 36) {\n    // if (length == 10) {\n    //   var result           = \'\';\n    //   var characters       = \'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\';\n    //   var charactersLength = characters.length;\n    //   for ( var i = 0; i < length; i++ ) {\n    //     result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    //   }\n    //   var dd = new Date().toTimeString();\n    //   var random = dd.replace(/[\\W_]+/g, "").substr(0,6);\n    //   result += random;\n    //   return result;\n    // }\n    let d = new Date().getTime();\n    let d2 = window.performance && window.performance.now && window.performance.now() * 1000 || 0;\n    let pattern = "uxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";\n\n    if (length <= pattern.length) {\n      pattern = pattern.substr(0, length);\n    } else {\n      let add_len = length - pattern.length;\n      let sub_pattern = "-xxxyyxxx";\n      let group_n = Math.floor(add_len / sub_pattern.length);\n\n      for (let i = 0; i < group_n; i++) {\n        pattern += sub_pattern;\n      }\n\n      group_n = add_len - group_n * sub_pattern.length;\n      pattern += sub_pattern.substr(0, group_n);\n    }\n\n    let uuid = pattern.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16;\n\n      if (d > 0) {\n        var r = (d + r) % 16 | 0;\n        d = Math.floor(d / 16);\n      } else {\n        var r = (d2 + r) % 16 | 0;\n        d2 = Math.floor(d2 / 16);\n      }\n\n      return (c == "x" ? r : r & 0x7 | 0x8).toString(16);\n    });\n    return uuid;\n  },\n  isRealTime: function (element, parent_realTime) {\n    let realtime = element.getAttribute("data-realtime") || parent_realTime;\n\n    if (realtime === "false") {\n      return false;\n    }\n\n    return true;\n  },\n  getParentFromElement: function (element, parent_class, attributes) {\n    if (parent_class) {\n      if (element.classList.contains(parent_class)) {\n        return element;\n      }\n\n      let node = element.parentNode;\n\n      while (node != null && node.classList) {\n        if (node.classList.contains(parent_class)) {\n          return node;\n        }\n\n        node = node.parentNode;\n      }\n    } else if (attributes) {\n      if (attributes.every(attr => element.attributes.hasOwnProperty(attr))) {\n        return element;\n      }\n\n      let node = element.parentNode;\n\n      while (node != null && node.attributes) {\n        if (attributes.every(attr => node.attributes.hasOwnProperty(attr))) {\n          return node;\n        }\n\n        node = node.parentNode;\n      }\n    }\n\n    return false;\n  },\n  isReadValue: function (element) {\n    return element.getAttribute("data-read_value") != "false";\n  },\n  isUpdateValue: function (element) {\n    return element.getAttribute("data-update_value") != "false";\n  },\n  isJsonString: function (str_data) {\n    try {\n      let json_data = JSON.parse(str_data);\n\n      if (typeof json_data === "object" && json_data != null) {\n        return true;\n      } else {\n        return false;\n      }\n    } catch (e) {\n      return false;\n    }\n  },\n  getAttributes: function (element) {\n    return element.getAttributeNames().reduce((attrMap, name) => {\n      attrMap[name] = element.getAttribute(name);\n      return attrMap;\n    }, {});\n  },\n  checkValue: function (value) {\n    if (!value) return false;\n\n    if (/{{\\s*([\\w\\W]+)\\s*}}/g.test(value)) {\n      return false;\n    }\n\n    return true;\n  },\n  // hosseins utills\n  // function to go through all frames\n  allFrame: function allFrame(callback) {\n    let allFrames = [{\n      document,\n      window\n    }];\n\n    for (let frame of document.querySelectorAll("iframe")) {\n      let frameDocument = frame.contentDocument || frame.contentWindow.document;\n      let frameWindow = frame.contentWindow;\n      allFrames.push({\n        document: frameDocument,\n        window: frameWindow,\n        frameElement: frame\n      });\n    }\n\n    let result = new Set();\n\n    for (let frame of allFrames) {\n      let callbackResult = callback(frame);\n      if (callbackResult && typeof callbackResult[Symbol.iterator] === "function") callbackResult.forEach(el => result.add(el));else if (callbackResult) result.add(callbackResult);\n    }\n\n    return Array.from(result);\n  },\n  cssPath: function cssPath(node) {\n    let pathSplits = [];\n\n    do {\n      if (!node || !node.tagName) return false;\n      let pathSplit = node.tagName.toLowerCase();\n      if (node.id && node.tagName !== "BODY") pathSplit += "#" + node.id;\n\n      if (node.classList.length && node.tagName !== "BODY") {\n        node.classList.forEach(item => {\n          if (item.indexOf(":") === -1) pathSplit += "." + item;\n        });\n      }\n\n      if (node.tagName !== "BODY" && node.parentNode) {\n        let index = Array.prototype.indexOf.call(node.parentNode.children, node);\n        pathSplit += `:nth-child(${index + 1})`;\n      }\n\n      pathSplits.unshift(pathSplit);\n      node = node.parentNode;\n    } while (node.tagName !== "HTML");\n\n    return pathSplits.join(" > ");\n  },\n  getTopMostWindow: function getTopMostWindow() {\n    let parentWindow = window;\n\n    while (parentWindow !== window.parent) parentWindow = window.parent;\n\n    return parentWindow;\n  },\n  findIframeFromElement: (windowObject, element) => {\n    let frameElement;\n    CoCreate.utils.allFrame(frame => {\n      if (frame.document.contains(element)) frameElement = frame.frameElement; // window.cc.findIframeFromElement(frame.window, element);\n    });\n    return frameElement;\n  },\n  getIframeFromPath: function getIframeFromPath(path) {\n    let topWindow = CoCreate.utils.getTopMostWindow;\n    path.forEach(selector => {\n      if (topWindow) topWindow = topWindow.querySelector(selector);\n    });\n    return topWindow;\n  },\n  // DO NOT REMOVE\n  // configMatch: function* configMatch(elementConfig, element) {\n  //   for (let config of elementConfig) {\n  //     // if (!Array.isArray(config.selector))\n  //     //   config.selector = [config.selector];\n  //     if (config.selector && element.matches(config.selector)) yield config;\n  //   }\n  //   return;\n  // },\n  configMatch2: function configMatch(elementConfig, element) {\n    let result = [];\n\n    for (let config of elementConfig) {\n      if (config.selector && element.matches(config.selector)) result.push(config);\n    }\n\n    return result;\n  },\n  // DO NOT REMOVE\n  // an opiniated function uses configMatch2 to read configs\n  // WARNING: the config iterated from top to bottom. for deseired effect elementConfig should be reveresed\n  // typeof elementConfig: array of objects and every objects containing keys as false, true or a selector \n  // element: the element to read attributes\n  // key: the key in which is in elementConfig and on match onSuccess callback will be called\n  configExecuter: function configExecuter(element, key, onSuccess, elementConfig) {\n    for (let config of CoCreate.utils.configMatch2(elementConfig || window.elementConfig, element)) if (config[key] === true) return onSuccess(element, config);else if (config[key] === false) return false;else if (config[key] === undefined) continue;else if (CoCreate.utils.isValidSelector(config[key])) return onSuccess(element, config, true);else console.warn("builder: wrong element config ", config);\n\n    return false;\n  },\n  UUID: function UUID(length = 10) {\n    var result = "";\n    var characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";\n    var charactersLength = characters.length;\n\n    for (var i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n\n    var d = new Date().toTimeString();\n    var random = d.replace(/[\\W_]+/g, "").substr(0, 6);\n    result += random;\n    return result;\n  },\n  parseTextToHtml: function parse(text) {\n    let doc = new DOMParser().parseFromString(text, "text/html");\n    if (doc.head.children[0]) return doc.head.children[0];else return doc.body.children[0];\n  },\n  splitBydelimiter: function parse(str, delimiter) {\n    return str.split(delimiter).map(s => s.trim());\n  },\n  joinBydelimiter: function parse(str, delimiter) {\n    return str.map(s => s.trim()).join(delimiter);\n  },\n  isValidSelector: selector => {\n    try {\n      document.createDocumentFragment().querySelector(selector);\n    } catch (error) {\n      return false;\n    }\n\n    return true;\n  },\n  getElementPath: function getElementPath(element, returnContext) {\n    let path = [];\n    let topWindow = window;\n    let iframeElement = CoCreate.utils.findIframeFromElement(topWindow, element);\n    let p = CoCreate.utils.cssPath(iframeElement);\n    if (p) path.unshift(p);\n    return returnContext ? {\n      path,\n      document: iframeElement || document\n    } : path; //todo: support for nested iframe\n    // while(iframeElement !== findIframeFromElement(topWindow,iframeElement))\n    // {\n    //   iframeElement = findIframeFromElement(topWindow,iframeElement);\n    //   path.unshift(cssPath(iframeElement))\n    // }\n  },\n  isUsageY: function isUsageY(input) {\n    if (this.isJsonString(input.getAttribute(\'data-collection\'))) {\n      return false;\n    }\n\n    if (this.isJsonString(input.getAttribute(\'name\'))) {\n      return false;\n    }\n\n    if (input.tagName === "INPUT" && ["text", "email", "tel", "url"].includes(input.type) || input.tagName === "TEXTAREA") {\n      if (!input.getAttribute(\'name\')) {\n        return false;\n      }\n\n      if (input.getAttribute("data-realtime") == "false") {\n        return false;\n      }\n\n      if (input.getAttribute("data-unique") === "true") {\n        return false;\n      }\n\n      if (input.type === \'password\') {\n        return false;\n      }\n\n      if (!this.isReadValue(input)) {\n        return false;\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n};\nvar _default = CoCreateUtils;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS5mbG9hdGluZ0xhYmVsLy4uL0NvQ3JlYXRlSlMvc3JjL3V0aWxzLmpzPzMyNDUiXSwibmFtZXMiOlsiQ29DcmVhdGVVdGlscyIsImdlbmVyYXRlVVVJRCIsImxlbmd0aCIsImQiLCJEYXRlIiwiZ2V0VGltZSIsImQyIiwid2luZG93IiwicGVyZm9ybWFuY2UiLCJub3ciLCJwYXR0ZXJuIiwic3Vic3RyIiwiYWRkX2xlbiIsInN1Yl9wYXR0ZXJuIiwiZ3JvdXBfbiIsIk1hdGgiLCJmbG9vciIsImkiLCJ1dWlkIiwicmVwbGFjZSIsImMiLCJyIiwicmFuZG9tIiwidG9TdHJpbmciLCJpc1JlYWxUaW1lIiwiZWxlbWVudCIsInBhcmVudF9yZWFsVGltZSIsInJlYWx0aW1lIiwiZ2V0QXR0cmlidXRlIiwiZ2V0UGFyZW50RnJvbUVsZW1lbnQiLCJwYXJlbnRfY2xhc3MiLCJhdHRyaWJ1dGVzIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJub2RlIiwicGFyZW50Tm9kZSIsImV2ZXJ5IiwiYXR0ciIsImhhc093blByb3BlcnR5IiwiaXNSZWFkVmFsdWUiLCJpc1VwZGF0ZVZhbHVlIiwiaXNKc29uU3RyaW5nIiwic3RyX2RhdGEiLCJqc29uX2RhdGEiLCJKU09OIiwicGFyc2UiLCJlIiwiZ2V0QXR0cmlidXRlcyIsImdldEF0dHJpYnV0ZU5hbWVzIiwicmVkdWNlIiwiYXR0ck1hcCIsIm5hbWUiLCJjaGVja1ZhbHVlIiwidmFsdWUiLCJ0ZXN0IiwiYWxsRnJhbWUiLCJjYWxsYmFjayIsImFsbEZyYW1lcyIsImRvY3VtZW50IiwiZnJhbWUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZnJhbWVEb2N1bWVudCIsImNvbnRlbnREb2N1bWVudCIsImNvbnRlbnRXaW5kb3ciLCJmcmFtZVdpbmRvdyIsInB1c2giLCJmcmFtZUVsZW1lbnQiLCJyZXN1bHQiLCJTZXQiLCJjYWxsYmFja1Jlc3VsdCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZm9yRWFjaCIsImVsIiwiYWRkIiwiQXJyYXkiLCJmcm9tIiwiY3NzUGF0aCIsInBhdGhTcGxpdHMiLCJ0YWdOYW1lIiwicGF0aFNwbGl0IiwidG9Mb3dlckNhc2UiLCJpZCIsIml0ZW0iLCJpbmRleE9mIiwiaW5kZXgiLCJwcm90b3R5cGUiLCJjYWxsIiwiY2hpbGRyZW4iLCJ1bnNoaWZ0Iiwiam9pbiIsImdldFRvcE1vc3RXaW5kb3ciLCJwYXJlbnRXaW5kb3ciLCJwYXJlbnQiLCJmaW5kSWZyYW1lRnJvbUVsZW1lbnQiLCJ3aW5kb3dPYmplY3QiLCJDb0NyZWF0ZSIsInV0aWxzIiwiZ2V0SWZyYW1lRnJvbVBhdGgiLCJwYXRoIiwidG9wV2luZG93Iiwic2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yIiwiY29uZmlnTWF0Y2gyIiwiY29uZmlnTWF0Y2giLCJlbGVtZW50Q29uZmlnIiwiY29uZmlnIiwibWF0Y2hlcyIsImNvbmZpZ0V4ZWN1dGVyIiwia2V5Iiwib25TdWNjZXNzIiwidW5kZWZpbmVkIiwiaXNWYWxpZFNlbGVjdG9yIiwiY29uc29sZSIsIndhcm4iLCJVVUlEIiwiY2hhcmFjdGVycyIsImNoYXJhY3RlcnNMZW5ndGgiLCJjaGFyQXQiLCJ0b1RpbWVTdHJpbmciLCJwYXJzZVRleHRUb0h0bWwiLCJ0ZXh0IiwiZG9jIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiaGVhZCIsImJvZHkiLCJzcGxpdEJ5ZGVsaW1pdGVyIiwic3RyIiwiZGVsaW1pdGVyIiwic3BsaXQiLCJtYXAiLCJzIiwidHJpbSIsImpvaW5CeWRlbGltaXRlciIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJlcnJvciIsImdldEVsZW1lbnRQYXRoIiwicmV0dXJuQ29udGV4dCIsImlmcmFtZUVsZW1lbnQiLCJwIiwiaXNVc2FnZVkiLCJpbnB1dCIsImluY2x1ZGVzIiwidHlwZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsTUFBTUEsYUFBYSxHQUFHO0FBQ3BCQyxjQUFZLEVBQUUsVUFB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Q0UsSUFBL0MsQ0FBOUIsSUFBdUZGLEtBQUssQ0FBQy9ELE9BQU4sS0FBa0IsVUFBN0csRUFBeUg7QUFFeEgsVUFBSSxDQUFDK0QsS0FBSyxDQUFDbEgsWUFBTixDQUFtQixNQUFuQixDQUFMLEVBQWlDO0FBQ2hDLGVBQU8sS0FBUDtBQUNBOztBQUNELFVBQUlrSCxLQUFLLENBQUNsSCxZQUFOLENBQW1CLGVBQW5CLEtBQXVDLE9BQTNDLEVBQW9EO0FBQ25ELGVBQU8sS0FBUDtBQUNBOztBQUVELFVBQUlrSCxLQUFLLENBQUNsSCxZQUFOLENBQW1CLGFBQW5CLE1BQXNDLE1BQTFDLEVBQWtEO0FBQ2pELGVBQU8sS0FBUDtBQUNBOztBQUVELFVBQUlrSCxLQUFLLENBQUNFLElBQU4sS0FBZSxVQUFuQixFQUErQjtBQUM5QixlQUFPLEtBQVA7QUFDQTs7QUFFRCxVQUFJLENBQUMsS0FBS3pHLFdBQUwsQ0FBaUJ1RyxLQUFqQixDQUFMLEVBQThCO0FBQzdCLGVBQU8sS0FBUDtBQUNBOztBQUNELGFBQU8sSUFBUDtBQUNBOztBQUNELFdBQU8sS0FBUDtBQUNBO0FBN1VvQixDQUF0QjtlQWdWZTlJLGEiLCJmaWxlIjoiLi4vLi4vQ29DcmVhdGVKUy9zcmMvdXRpbHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgamluXG4gKiAyMDIwLTA0LTAzXG4gKi9cblxuY29uc3QgQ29DcmVhdGVVdGlscyA9IHtcbiAgZ2VuZXJhdGVVVUlEOiBmdW5jdGlvbiAobGVuZ3RoID0gMzYpIHtcbiAgICAvLyBpZiAobGVuZ3RoID09IDEwKSB7XG4gICAgLy8gICB2YXIgcmVzdWx0ICAgICAgICAgICA9ICcnO1xuICAgIC8vICAgdmFyIGNoYXJhY3RlcnMgICAgICAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODknO1xuICAgIC8vICAgdmFyIGNoYXJhY3RlcnNMZW5ndGggPSBjaGFyYWN0ZXJzLmxlbmd0aDtcbiAgICAvLyAgIGZvciAoIHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrICkge1xuICAgIC8vICAgICByZXN1bHQgKz0gY2hhcmFjdGVycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVyc0xlbmd0aCkpO1xuICAgIC8vICAgfVxuXG4gICAgLy8gICB2YXIgZGQgPSBuZXcgRGF0ZSgpLnRvVGltZVN0cmluZygpO1xuICAgIC8vICAgdmFyIHJhbmRvbSA9IGRkLnJlcGxhY2UoL1tcXFdfXSsvZywgXCJcIikuc3Vic3RyKDAsNik7XG4gICAgLy8gICByZXN1bHQgKz0gcmFuZG9tO1xuICAgIC8vICAgcmV0dXJuIHJlc3VsdDtcbiAgICAvLyB9XG5cbiAgICBsZXQgZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGxldCBkMiA9XG4gICAgICAod2luZG93LnBlcmZvcm1hbmNlICYmXG4gICAgICAgIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cgJiZcbiAgICAgICAgd2luZG93LnBlcmZvcm1hbmNlLm5vdygpICogMTAwMCkgfHxcbiAgICAgIDA7XG4gICAgbGV0IHBhdHRlcm4gPSBcInV4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiO1xuXG4gICAgaWYgKGxlbmd0aCA8PSBwYXR0ZXJuLmxlbmd0aCkge1xuICAgICAgcGF0dGVybiA9IHBhdHRlcm4uc3Vic3RyKDAsIGxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBhZGRfbGVuID0gbGVuZ3RoIC0gcGF0dGVybi5sZW5ndGg7XG4gICAgICBsZXQgc3ViX3BhdHRlcm4gPSBcIi14eHh5eXh4eFwiO1xuXG4gICAgICBsZXQgZ3JvdXBfbiA9IE1hdGguZmxvb3IoYWRkX2xlbiAvIHN1Yl9wYXR0ZXJuLmxlbmd0aCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBfbjsgaSsrKSB7XG4gICAgICAgIHBhdHRlcm4gKz0gc3ViX3BhdHRlcm47XG4gICAgICB9XG5cbiAgICAgIGdyb3VwX24gPSBhZGRfbGVuIC0gZ3JvdXBfbiAqIHN1Yl9wYXR0ZXJuLmxlbmd0aDtcbiAgICAgIHBhdHRlcm4gKz0gc3ViX3BhdHRlcm4uc3Vic3RyKDAsIGdyb3VwX24pO1xuICAgIH1cblxuICAgIGxldCB1dWlkID0gcGF0dGVybi5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAxNjtcbiAgICAgIGlmIChkID4gMCkge1xuICAgICAgICB2YXIgciA9IChkICsgcikgJSAxNiB8IDA7XG4gICAgICAgIGQgPSBNYXRoLmZsb29yKGQgLyAxNik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgciA9IChkMiArIHIpICUgMTYgfCAwO1xuICAgICAgICBkMiA9IE1hdGguZmxvb3IoZDIgLyAxNik7XG4gICAgICB9XG4gICAgICByZXR1cm4gKGMgPT0gXCJ4XCIgPyByIDogKHIgJiAweDcpIHwgMHg4KS50b1N0cmluZygxNik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHV1aWQ7XG4gIH0sXG5cbiAgaXNSZWFsVGltZTogZnVuY3Rpb24gKGVsZW1lbnQsIHBhcmVudF9yZWFsVGltZSkge1xuICAgIGxldCByZWFsdGltZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1yZWFsdGltZVwiKSB8fCBwYXJlbnRfcmVhbFRpbWU7XG4gICAgaWYgKHJlYWx0aW1lID09PSBcImZhbHNlXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICBnZXRQYXJlbnRGcm9tRWxlbWVudDogZnVuY3Rpb24gKGVsZW1lbnQsIHBhcmVudF9jbGFzcywgYXR0cmlidXRlcykge1xuICAgIGlmIChwYXJlbnRfY2xhc3MpIHtcbiAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhwYXJlbnRfY2xhc3MpKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfVxuXG4gICAgICBsZXQgbm9kZSA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgIHdoaWxlIChub2RlICE9IG51bGwgJiYgbm9kZS5jbGFzc0xpc3QpIHtcbiAgICAgICAgaWYgKG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKHBhcmVudF9jbGFzcykpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlcykge1xuICAgICAgaWYgKGF0dHJpYnV0ZXMuZXZlcnkoKGF0dHIpID0+IGVsZW1lbnQuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhdHRyKSkpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIGxldCBub2RlID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgd2hpbGUgKG5vZGUgIT0gbnVsbCAmJiBub2RlLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXMuZXZlcnkoKGF0dHIpID0+IG5vZGUuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhdHRyKSkpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcblxuICBpc1JlYWRWYWx1ZTogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXJlYWRfdmFsdWVcIikgIT0gXCJmYWxzZVwiO1xuICB9LFxuICBcbiAgaXNVcGRhdGVWYWx1ZTogZnVuY3Rpb24oZWxlbWVudCkge1xuICBcdHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdXBkYXRlX3ZhbHVlXCIpICE9IFwiZmFsc2VcIjtcbiAgfSxcblxuICBpc0pzb25TdHJpbmc6IGZ1bmN0aW9uIChzdHJfZGF0YSkge1xuICAgIHRyeSB7XG4gICAgICBsZXQganNvbl9kYXRhID0gSlNPTi5wYXJzZShzdHJfZGF0YSk7XG4gICAgICBpZiAodHlwZW9mIGpzb25fZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBqc29uX2RhdGEgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuXG4gIGdldEF0dHJpYnV0ZXM6IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlTmFtZXMoKS5yZWR1Y2UoKGF0dHJNYXAsIG5hbWUpID0+IHtcbiAgICAgIGF0dHJNYXBbbmFtZV0gPSBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICAgIHJldHVybiBhdHRyTWFwO1xuICAgIH0sIHt9KTtcbiAgfSxcblxuICBjaGVja1ZhbHVlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoIXZhbHVlKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKC97e1xccyooW1xcd1xcV10rKVxccyp9fS9nLnRlc3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIC8vIGhvc3NlaW5zIHV0aWxsc1xuXG4gIC8vIGZ1bmN0aW9uIHRvIGdvIHRocm91Z2ggYWxsIGZyYW1lc1xuICBhbGxGcmFtZTogZnVuY3Rpb24gYWxsRnJhbWUoY2FsbGJhY2spIHtcbiAgICBsZXQgYWxsRnJhbWVzID0gW3sgZG9jdW1lbnQsIHdpbmRvdyB9XTtcbiAgICBmb3IgKGxldCBmcmFtZSBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaWZyYW1lXCIpKSB7XG4gICAgICBsZXQgZnJhbWVEb2N1bWVudCA9IGZyYW1lLmNvbnRlbnREb2N1bWVudCB8fCBmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICAgICAgbGV0IGZyYW1lV2luZG93ID0gZnJhbWUuY29udGVudFdpbmRvdztcbiAgICAgIGFsbEZyYW1lcy5wdXNoKHtcbiAgICAgICAgZG9jdW1lbnQ6IGZyYW1lRG9jdW1lbnQsXG4gICAgICAgIHdpbmRvdzogZnJhbWVXaW5kb3csXG4gICAgICAgIGZyYW1lRWxlbWVudDogZnJhbWUsXG4gICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKGxldCBmcmFtZSBvZiBhbGxGcmFtZXMpIHtcbiAgICAgIGxldCBjYWxsYmFja1Jlc3VsdCA9IGNhbGxiYWNrKGZyYW1lKTtcbiAgICAgIGlmIChcbiAgICAgICAgY2FsbGJhY2tSZXN1bHQgJiZcbiAgICAgICAgdHlwZW9mIGNhbGxiYWNrUmVzdWx0W1N5bWJvbC5pdGVyYXRvcl0gPT09IFwiZnVuY3Rpb25cIlxuICAgICAgKVxuICAgICAgICBjYWxsYmFja1Jlc3VsdC5mb3JFYWNoKChlbCkgPT4gcmVzdWx0LmFkZChlbCkpO1xuICAgICAgZWxzZSBpZiAoY2FsbGJhY2tSZXN1bHQpIHJlc3VsdC5hZGQoY2FsbGJhY2tSZXN1bHQpO1xuICAgIH1cblxuICAgIHJldHVybiBBcnJheS5mcm9tKHJlc3VsdCk7XG4gIH0sXG5cbiAgY3NzUGF0aDogZnVuY3Rpb24gY3NzUGF0aChub2RlKSB7XG4gICAgbGV0IHBhdGhTcGxpdHMgPSBbXTtcbiAgICBkbyB7XG4gICAgICBpZiAoIW5vZGUgfHwgIW5vZGUudGFnTmFtZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgbGV0IHBhdGhTcGxpdCA9IG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKG5vZGUuaWQgJiYgbm9kZS50YWdOYW1lICE9PSBcIkJPRFlcIikgcGF0aFNwbGl0ICs9IFwiI1wiICsgbm9kZS5pZDtcblxuICAgICAgaWYgKG5vZGUuY2xhc3NMaXN0Lmxlbmd0aCAmJiBub2RlLnRhZ05hbWUgIT09IFwiQk9EWVwiKSB7XG4gICAgICAgIG5vZGUuY2xhc3NMaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICBpZiAoaXRlbS5pbmRleE9mKFwiOlwiKSA9PT0gLTEpIHBhdGhTcGxpdCArPSBcIi5cIiArIGl0ZW07XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAobm9kZS50YWdOYW1lICE9PSBcIkJPRFlcIiAmJiBub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChcbiAgICAgICAgICBub2RlLnBhcmVudE5vZGUuY2hpbGRyZW4sXG4gICAgICAgICAgbm9kZVxuICAgICAgICApO1xuICAgICAgICBwYXRoU3BsaXQgKz0gYDpudGgtY2hpbGQoJHtpbmRleCArIDF9KWA7XG4gICAgICB9XG5cbiAgICAgIHBhdGhTcGxpdHMudW5zaGlmdChwYXRoU3BsaXQpO1xuICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9IHdoaWxlIChub2RlLnRhZ05hbWUgIT09IFwiSFRNTFwiKTtcblxuICAgIHJldHVybiBwYXRoU3BsaXRzLmpvaW4oXCIgPiBcIik7XG4gIH0sXG5cbiAgZ2V0VG9wTW9zdFdpbmRvdzogZnVuY3Rpb24gZ2V0VG9wTW9zdFdpbmRvdygpIHtcbiAgICBsZXQgcGFyZW50V2luZG93ID0gd2luZG93O1xuICAgIHdoaWxlIChwYXJlbnRXaW5kb3cgIT09IHdpbmRvdy5wYXJlbnQpIHBhcmVudFdpbmRvdyA9IHdpbmRvdy5wYXJlbnQ7XG4gICAgcmV0dXJuIHBhcmVudFdpbmRvdztcbiAgfSxcblxuICBmaW5kSWZyYW1lRnJvbUVsZW1lbnQ6ICh3aW5kb3dPYmplY3QsIGVsZW1lbnQpID0+IHtcbiAgICBsZXQgZnJhbWVFbGVtZW50O1xuICAgIENvQ3JlYXRlLnV0aWxzLmFsbEZyYW1lKChmcmFtZSkgPT4ge1xuICAgICAgaWYgKGZyYW1lLmRvY3VtZW50LmNvbnRhaW5zKGVsZW1lbnQpKSBmcmFtZUVsZW1lbnQgPSBmcmFtZS5mcmFtZUVsZW1lbnQ7XG4gICAgICAvLyB3aW5kb3cuY2MuZmluZElmcmFtZUZyb21FbGVtZW50KGZyYW1lLndpbmRvdywgZWxlbWVudCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lRWxlbWVudDtcbiAgfSxcblxuICBnZXRJZnJhbWVGcm9tUGF0aDogZnVuY3Rpb24gZ2V0SWZyYW1lRnJvbVBhdGgocGF0aCkge1xuICAgIGxldCB0b3BXaW5kb3cgPSBDb0NyZWF0ZS51dGlscy5nZXRUb3BNb3N0V2luZG93O1xuXG4gICAgcGF0aC5mb3JFYWNoKChzZWxlY3RvcikgPT4ge1xuICAgICAgaWYgKHRvcFdpbmRvdykgdG9wV2luZG93ID0gdG9wV2luZG93LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIH0pO1xuICAgIHJldHVybiB0b3BXaW5kb3c7XG4gIH0sXG4gIC8vIERPIE5PVCBSRU1PVkVcbiAgXG4gIC8vIGNvbmZpZ01hdGNoOiBmdW5jdGlvbiogY29uZmlnTWF0Y2goZWxlbWVudENvbmZpZywgZWxlbWVudCkge1xuICAvLyAgIGZvciAobGV0IGNvbmZpZyBvZiBlbGVtZW50Q29uZmlnKSB7XG4gIC8vICAgICAvLyBpZiAoIUFycmF5LmlzQXJyYXkoY29uZmlnLnNlbGVjdG9yKSlcbiAgLy8gICAgIC8vICAgY29uZmlnLnNlbGVjdG9yID0gW2NvbmZpZy5zZWxlY3Rvcl07XG5cbiAgLy8gICAgIGlmIChjb25maWcuc2VsZWN0b3IgJiYgZWxlbWVudC5tYXRjaGVzKGNvbmZpZy5zZWxlY3RvcikpIHlpZWxkIGNvbmZpZztcbiAgLy8gICB9XG4gIC8vICAgcmV0dXJuO1xuICAvLyB9LFxuICBjb25maWdNYXRjaDI6IGZ1bmN0aW9uIGNvbmZpZ01hdGNoKGVsZW1lbnRDb25maWcsIGVsZW1lbnQpIHtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgZm9yIChsZXQgY29uZmlnIG9mIGVsZW1lbnRDb25maWcpIHtcbiAgICAgIGlmIChjb25maWcuc2VsZWN0b3IgJiYgZWxlbWVudC5tYXRjaGVzKGNvbmZpZy5zZWxlY3RvcikpIHJlc3VsdC5wdXNoKGNvbmZpZyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG4gIFxuICAvLyBETyBOT1QgUkVNT1ZFXG4gIFxuICAvLyBhbiBvcGluaWF0ZWQgZnVuY3Rpb24gdXNlcyBjb25maWdNYXRjaDIgdG8gcmVhZCBjb25maWdzXG4gIC8vIFdBUk5JTkc6IHRoZSBjb25maWcgaXRlcmF0ZWQgZnJvbSB0b3AgdG8gYm90dG9tLiBmb3IgZGVzZWlyZWQgZWZmZWN0IGVsZW1lbnRDb25maWcgc2hvdWxkIGJlIHJldmVyZXNlZFxuICAvLyB0eXBlb2YgZWxlbWVudENvbmZpZzogYXJyYXkgb2Ygb2JqZWN0cyBhbmQgZXZlcnkgb2JqZWN0cyBjb250YWluaW5nIGtleXMgYXMgZmFsc2UsIHRydWUgb3IgYSBzZWxlY3RvciBcbiAgLy8gZWxlbWVudDogdGhlIGVsZW1lbnQgdG8gcmVhZCBhdHRyaWJ1dGVzXG4gIC8vIGtleTogdGhlIGtleSBpbiB3aGljaCBpcyBpbiBlbGVtZW50Q29uZmlnIGFuZCBvbiBtYXRjaCBvblN1Y2Nlc3MgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWRcbiAgY29uZmlnRXhlY3V0ZXI6IGZ1bmN0aW9uIGNvbmZpZ0V4ZWN1dGVyKGVsZW1lbnQsIGtleSAsIG9uU3VjY2VzcywgZWxlbWVudENvbmZpZyApIHtcbiAgICBmb3IgKGxldCBjb25maWcgb2YgQ29DcmVhdGUudXRpbHMuY29uZmlnTWF0Y2gyKGVsZW1lbnRDb25maWcgfHwgd2luZG93LmVsZW1lbnRDb25maWcsIGVsZW1lbnQpKVxuICAgICAgaWYgKGNvbmZpZ1trZXldID09PSB0cnVlKSByZXR1cm4gb25TdWNjZXNzKGVsZW1lbnQsIGNvbmZpZyk7XG4gICAgICBlbHNlIGlmIChjb25maWdba2V5XSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgIGVsc2UgaWYgKGNvbmZpZ1trZXldID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgZWxzZSBpZiAoQ29DcmVhdGUudXRpbHMuaXNWYWxpZFNlbGVjdG9yKGNvbmZpZ1trZXldKSlcbiAgICAgICAgcmV0dXJuIG9uU3VjY2VzcyhlbGVtZW50LCBjb25maWcsIHRydWUpO1xuICAgICAgZWxzZSBjb25zb2xlLndhcm4oXCJidWlsZGVyOiB3cm9uZyBlbGVtZW50IGNvbmZpZyBcIiwgY29uZmlnKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcblxuICBVVUlEOiBmdW5jdGlvbiBVVUlEKGxlbmd0aCA9IDEwKSB7XG4gICAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gICAgdmFyIGNoYXJhY3RlcnMgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIjtcblxuICAgIHZhciBjaGFyYWN0ZXJzTGVuZ3RoID0gY2hhcmFjdGVycy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0ICs9IGNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnNMZW5ndGgpKTtcbiAgICB9XG5cbiAgICB2YXIgZCA9IG5ldyBEYXRlKCkudG9UaW1lU3RyaW5nKCk7XG4gICAgdmFyIHJhbmRvbSA9IGQucmVwbGFjZSgvW1xcV19dKy9nLCBcIlwiKS5zdWJzdHIoMCwgNik7XG4gICAgcmVzdWx0ICs9IHJhbmRvbTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxuXG4gIHBhcnNlVGV4dFRvSHRtbDogZnVuY3Rpb24gcGFyc2UodGV4dCkge1xuICAgIGxldCBkb2MgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHRleHQsIFwidGV4dC9odG1sXCIpO1xuICAgIGlmIChkb2MuaGVhZC5jaGlsZHJlblswXSkgcmV0dXJuIGRvYy5oZWFkLmNoaWxkcmVuWzBdO1xuICAgIGVsc2UgcmV0dXJuIGRvYy5ib2R5LmNoaWxkcmVuWzBdO1xuICB9LFxuXG4gIHNwbGl0QnlkZWxpbWl0ZXI6IGZ1bmN0aW9uIHBhcnNlKHN0ciwgZGVsaW1pdGVyKSB7XG4gICAgcmV0dXJuIHN0ci5zcGxpdChkZWxpbWl0ZXIpLm1hcCgocykgPT4gcy50cmltKCkpO1xuICB9LFxuXG4gIGpvaW5CeWRlbGltaXRlcjogZnVuY3Rpb24gcGFyc2Uoc3RyLCBkZWxpbWl0ZXIpIHtcbiAgICByZXR1cm4gc3RyLm1hcCgocykgPT4gcy50cmltKCkpLmpvaW4oZGVsaW1pdGVyKTtcbiAgfSxcblxuICBpc1ZhbGlkU2VsZWN0b3I6IChzZWxlY3RvcikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG5cbiAgZ2V0RWxlbWVudFBhdGg6IGZ1bmN0aW9uIGdldEVsZW1lbnRQYXRoKGVsZW1lbnQsIHJldHVybkNvbnRleHQpIHtcbiAgICBsZXQgcGF0aCA9IFtdO1xuXG4gICAgbGV0IHRvcFdpbmRvdyA9IHdpbmRvdztcbiAgICBsZXQgaWZyYW1lRWxlbWVudCA9IENvQ3JlYXRlLnV0aWxzLmZpbmRJZnJhbWVGcm9tRWxlbWVudCh0b3BXaW5kb3csIGVsZW1lbnQpO1xuICAgIGxldCBwID0gQ29DcmVhdGUudXRpbHMuY3NzUGF0aChpZnJhbWVFbGVtZW50KTtcbiAgICBpZiAocCkgcGF0aC51bnNoaWZ0KHApO1xuXG4gICAgcmV0dXJuIHJldHVybkNvbnRleHQgPyB7IHBhdGgsIGRvY3VtZW50OiBpZnJhbWVFbGVtZW50IHx8IGRvY3VtZW50IH0gOiBwYXRoO1xuICAgIC8vdG9kbzogc3VwcG9ydCBmb3IgbmVzdGVkIGlmcmFtZVxuICAgIC8vIHdoaWxlKGlmcmFtZUVsZW1lbnQgIT09IGZpbmRJZnJhbWVGcm9tRWxlbWVudCh0b3BXaW5kb3csaWZyYW1lRWxlbWVudCkpXG4gICAgLy8ge1xuICAgIC8vICAgaWZyYW1lRWxlbWVudCA9IGZpbmRJZnJhbWVGcm9tRWxlbWVudCh0b3BXaW5kb3csaWZyYW1lRWxlbWVudCk7XG4gICAgLy8gICBwYXRoLnVuc2hpZnQoY3NzUGF0aChpZnJhbWVFbGVtZW50KSlcbiAgICAvLyB9XG4gIH0sXG4gIFxuICBpc1VzYWdlWTogZnVuY3Rpb24gaXNVc2FnZVkoaW5wdXQpIHtcblx0XHRpZiAodGhpcy5pc0pzb25TdHJpbmcoaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbGxlY3Rpb24nKSkpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKHRoaXMuaXNKc29uU3RyaW5nKGlucHV0LmdldEF0dHJpYnV0ZSgnbmFtZScpKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRcblx0XHRpZiAoKGlucHV0LnRhZ05hbWUgPT09IFwiSU5QVVRcIiAmJiBbXCJ0ZXh0XCIsIFwiZW1haWxcIiwgXCJ0ZWxcIiwgXCJ1cmxcIl0uaW5jbHVkZXMoaW5wdXQudHlwZSkpIHx8IGlucHV0LnRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIikge1xuXHRcdFx0XG5cdFx0XHRpZiAoIWlucHV0LmdldEF0dHJpYnV0ZSgnbmFtZScpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdGlmIChpbnB1dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXJlYWx0aW1lXCIpID09IFwiZmFsc2VcIikge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmIChpbnB1dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXVuaXF1ZVwiKSA9PT0gXCJ0cnVlXCIpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoaW5wdXQudHlwZSA9PT0gJ3Bhc3N3b3JkJykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmICghdGhpcy5pc1JlYWRWYWx1ZShpbnB1dCkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvQ3JlYXRlVXRpbHM7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../CoCreateJS/src/utils.js\n')}}]);